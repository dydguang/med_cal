<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¡€æ¶²ç§‘è¯„ä¼°é‡è¡¨è®¡ç®—å™¨(å®Œæ•´ç‰ˆ)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', 'SimSun', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            margin: 0;
            display: flex;
            justify-content: center;
        }

        .main-wrapper {
            display: flex;
            width: 100%;
            max-width: 1600px;
            gap: 20px;
            align-items: flex-start;
        }

        .sidebar {
            width: 250px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            padding: 20px;
            max-height: calc(100vh - 40px);
            overflow-y: auto;
            position: sticky;
            top: 20px;
            flex-shrink: 0;
        }

        .sidebar-title {
            font-size: 16px;
            font-weight: 600;
            color: #667eea;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }

        .sidebar-section {
            margin-bottom: 15px;
        }

        .sidebar-section-title {
            font-size: 12px;
            color: #999;
            font-weight: 600;
            margin-bottom: 8px;
            text-transform: uppercase;
        }

        .sidebar-link {
            display: block;
            padding: 8px 12px;
            color: #495057;
            text-decoration: none;
            border-radius: 5px;
            font-size: 13px;
            margin-bottom: 5px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .sidebar-link:hover {
            background: #f0f4ff;
            color: #667eea;
        }

        .sidebar-link.active {
            background: #667eea;
            color: white;
            font-weight: 600;
        }

        .container {
            flex: 1;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            overflow: hidden;
            min-width: 0;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 14px;
            opacity: 0.9;
        }

        .category-nav {
            background: #f8f9fa;
            padding: 15px 20px;
            border-bottom: 2px solid #e9ecef;
            display: flex;
            gap: 10px;
            overflow-x: auto;
        }

        .category-btn {
            padding: 10px 20px;
            background: white;
            border: 2px solid #667eea;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            color: #667eea;
            transition: all 0.3s;
            white-space: nowrap;
        }

        .category-btn:hover {
            background: #667eea;
            color: white;
        }

        .category-btn.active {
            background: #667eea;
            color: white;
        }

        .nav-tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
            overflow-x: auto;
            max-height: 200px;
            overflow-y: auto;
        }

        .nav-tab {
            padding: 15px 20px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 14px;
            font-weight: 500;
            color: #495057;
            transition: all 0.3s;
            white-space: nowrap;
            border-bottom: 3px solid transparent;
        }

        .nav-tab:hover {
            background: #e9ecef;
        }

        .nav-tab.active {
            color: #667eea;
            border-bottom-color: #667eea;
            background: white;
        }

        .content {
            padding: 30px;
            max-height: 70vh;
            overflow-y: auto;
        }

        .scale-section {
            display: none;
        }

        .scale-section.active {
            display: block;
        }

        .scale-title {
            font-size: 22px;
            color: #333;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }

        .scale-description {
            font-size: 14px;
            color: #666;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .question-group {
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .question-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
        }

        .option-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option-label {
            display: flex;
            align-items: center;
            padding: 10px;
            background: white;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .option-label:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .option-label input[type="radio"],
        .option-label input[type="checkbox"] {
            margin-right: 10px;
        }

        .calculate-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
        }

        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .result-section {
            margin-top: 30px;
            padding: 20px;
            background: #f0f4ff;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            display: none;
        }

        .result-section.show {
            display: block;
        }

        .result-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
        }

        .result-content {
            font-size: 15px;
            color: #495057;
            line-height: 1.8;
        }

        .result-highlight {
            background: white;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            border-left: 3px solid #667eea;
        }

        .risk-group {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 600;
            margin-right: 10px;
        }

        .risk-low {
            background: #28a745;
            color: white;
        }

        .risk-intermediate {
            background: #ffc107;
            color: #333;
        }

        .risk-high {
            background: #dc3545;
            color: white;
        }

        .info-box {
            background: #e7f3ff;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
            font-size: 14px;
            line-height: 1.6;
        }

        .reference {
            margin-top: 30px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            font-size: 12px;
            color: #666;
        }

        .input-number {
            width: 100px;
            padding: 8px;
            border: 2px solid #dee2e6;
            border-radius: 5px;
            font-size: 14px;
        }

        .input-number:focus {
            outline: none;
            border-color: #667eea;
        }

        .input-group {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .input-label {
            font-weight: 500;
            color: #333;
        }

        .normal-range {
            font-size: 12px;
            color: #28a745;
            background: #d4edda;
            padding: 4px 8px;
            border-radius: 4px;
            margin-left: 5px;
        }

        .input-hint {
            font-size: 12px;
            color: #6c757d;
            margin-top: 5px;
            font-style: italic;
        }

        .warning-text {
            color: #dc3545;
            font-size: 12px;
            margin-top: 5px;
            display: none;
        }

        .warning-text.show {
            display: block;
        }

        .clinical-implication {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin-top: 15px;
            border-radius: 5px;
            font-size: 14px;
        }

        .prognosis-chart {
            margin-top: 15px;
            padding: 15px;
            background: white;
            border-radius: 5px;
            border: 1px solid #dee2e6;
        }

        .prognosis-bar {
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .prognosis-fill {
            height: 100%;
            background: linear-gradient(90deg, #28a745 0%, #ffc107 50%, #dc3545 100%);
            transition: width 0.5s ease;
        }

        /* ç§»åŠ¨ç«¯ä¼˜åŒ– */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .header h1 {
                font-size: 20px;
            }

            .header p {
                font-size: 12px;
            }

            /* ä¾§è¾¹æ åœ¨ç§»åŠ¨ç«¯éšè—ï¼Œæ”¹ä¸ºå¯æŠ˜å  */
            .sidebar {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 80%;
                max-width: 300px;
                height: 100vh;
                z-index: 1000;
                overflow-y: auto;
                background: white;
                box-shadow: 2px 0 10px rgba(0,0,0,0.3);
            }

            .sidebar.show {
                display: block;
            }

            /* æ·»åŠ é®ç½©å±‚ */
            .sidebar-overlay {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.5);
                z-index: 999;
            }

            .sidebar-overlay.show {
                display: block;
            }

            /* æ±‰å ¡èœå•æŒ‰é’® */
            .menu-toggle {
                display: block;
                position: fixed;
                top: 15px;
                left: 15px;
                z-index: 1001;
                background: #667eea;
                color: white;
                border: none;
                border-radius: 8px;
                padding: 12px 16px;
                font-size: 20px;
                cursor: pointer;
                box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            }

            .menu-toggle:hover {
                background: #5568d3;
            }

            .main-wrapper {
                padding-top: 50px;
            }

            .container {
                width: 100%;
                border-radius: 10px;
            }

            /* åˆ†ç±»å¯¼èˆªä¼˜åŒ– */
            .category-nav {
                padding: 10px;
                gap: 8px;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }

            .category-btn {
                padding: 8px 15px;
                font-size: 13px;
                white-space: nowrap;
                flex-shrink: 0;
            }

            /* æ ‡ç­¾å¯¼èˆªä¼˜åŒ– */
            .nav-tabs {
                font-size: 13px;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }

            .nav-tab {
                padding: 12px 15px;
                font-size: 13px;
                white-space: nowrap;
                flex-shrink: 0;
            }

            /* å†…å®¹åŒºåŸŸä¼˜åŒ– */
            .content {
                padding: 20px 15px;
                max-height: none;
            }

            .scale-title {
                font-size: 18px;
            }

            .scale-description {
                font-size: 13px;
            }

            /* é—®é¢˜ç»„ä¼˜åŒ– */
            .question-group {
                padding: 12px;
            }

            .question-title {
                font-size: 15px;
            }

            /* é€‰é¡¹æ ‡ç­¾ä¼˜åŒ– - å¢å¤§è§¦æ‘¸ç›®æ ‡ */
            .option-label {
                padding: 12px 10px;
                font-size: 14px;
                min-height: 44px;
                display: flex;
                align-items: flex-start;
            }

            .option-label input[type="radio"],
            .option-label input[type="checkbox"] {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                margin-top: 2px;
                flex-shrink: 0;
            }

            /* è¾“å…¥æ¡†ä¼˜åŒ– */
            .input-number {
                width: 100%;
                max-width: 100%;
                padding: 10px;
                font-size: 16px;
            }

            .select-wrapper {
                position: relative;
            }

            select {
                width: 100%;
                padding: 10px;
                font-size: 16px;
                border: 2px solid #dee2e6;
                border-radius: 5px;
                background: white;
                -webkit-appearance: none;
                appearance: none;
            }

            /* æŒ‰é’®ä¼˜åŒ– */
            .calculate-btn {
                padding: 15px;
                font-size: 16px;
                min-height: 48px;
            }

            /* ç»“æœåŒºåŸŸä¼˜åŒ– */
            .result-highlight {
                padding: 12px;
                font-size: 14px;
            }

            .risk-group {
                display: block;
                margin: 5px 0 10px 0;
                padding: 8px 12px;
                font-size: 14px;
            }

            .clinical-implication,
            .prognosis-chart {
                padding: 12px;
                font-size: 13px;
            }

            .info-box {
                padding: 12px;
                font-size: 13px;
            }

            .reference {
                padding: 12px;
                font-size: 11px;
            }

            /* è¾“å…¥ç»„ä¼˜åŒ– */
            .input-group {
                flex-direction: column;
                align-items: flex-start;
            }

            .input-label {
                margin-bottom: 5px;
                font-size: 14px;
            }

            .normal-range {
                display: inline-block;
                margin: 5px 0;
                font-size: 11px;
            }
        }

        /* å¹³æ¿ç«¯ä¼˜åŒ– */
        @media (min-width: 769px) and (max-width: 1024px) {
            .sidebar {
                width: 200px;
            }

            .sidebar-link {
                font-size: 12px;
                padding: 7px 10px;
            }

            .container {
                min-width: 0;
            }
        }

        /* æ¡Œé¢ç«¯éšè—èœå•æŒ‰é’® */
        @media (min-width: 769px) {
            .menu-toggle {
                display: none;
            }

            .sidebar-overlay {
                display: none !important;
            }
        }

        @media print {
            body {
                background: white;
                padding: 0;
            }

            .category-nav, .nav-tabs, .calculate-btn, .menu-toggle, .sidebar {
                display: none;
            }

            .scale-section {
                display: block !important;
            }

            .result-section {
                display: block !important;
            }
        }
    </style>
</head>
<body>
    <!-- ç§»åŠ¨ç«¯èœå•æŒ‰é’® -->
    <button class="menu-toggle" id="menuToggle" onclick="toggleSidebar()">
        â˜°
    </button>

    <!-- ä¾§è¾¹æ é®ç½©å±‚ -->
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>

    <div class="main-wrapper">
        <!-- ä¾§è¾¹å¯¼èˆªæ  -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-title">ğŸ“‹ é‡è¡¨ç´¢å¼•</div>

            <div class="sidebar-section">
                <div class="sidebar-section-title">é€šç”¨é‡è¡¨</div>
                <a class="sidebar-link" onclick="showScale('ecog')">ECOG ä½“èƒ½çŠ¶æ€</a>
                <a class="sidebar-link" onclick="showScale('kps')">KPS åŠŸèƒ½çŠ¶æ€</a>
                <a class="sidebar-link" onclick="showScale('nrs')">ç–¼ç—› NRS</a>
                <a class="sidebar-link" onclick="showScale('hads')">HADS ç„¦è™‘æŠ‘éƒ</a>
                <a class="sidebar-link" onclick="showScale('hctci')">HCT-CI å¹¶å‘ç—‡</a>
                <a class="sidebar-link" onclick="showScale('nrs2002')">NRS2002 è¥å…»</a>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-section-title">æ·‹å·´ç˜¤</div>
                <a class="sidebar-link" onclick="showScale('i')">IPI è¯„åˆ†</a>
                <a class="sidebar-link" onclick="showScale('flipi')">FLIPI è¯„åˆ†</a>
                <a class="sidebar-link" onclick="showScale('mipi')">MIPI è¯„åˆ†</a>
                <a class="sidebar-link" onclick="showScale('annarbor')">Ann Arbor åˆ†æœŸ</a>
                <a class="sidebar-link" onclick="showScale('binet')">CLL Binet åˆ†æœŸ</a>
                <a class="sidebar-link" onclick="showScale('cllipi')">CLL-IPI è¯„åˆ† âœ“</a>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-section-title">å¤šå‘æ€§éª¨é«“ç˜¤</div>
                <a class="sidebar-link" onclick="showScale('iss')">ISS åˆ†æœŸ</a>
                <a class="sidebar-link" onclick="showScale('riss')">R-ISS åˆ†æœŸ</a>
                <a class="sidebar-link" onclick="showScale('ds')">DS åˆ†æœŸ</a>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-section-title">MDS/éª¨é«“è¡°ç«­</div>
                <a class="sidebar-link" onclick="showScale('ipssr')">IPSS-R è¯„åˆ†</a>
                <a class="sidebar-link" onclick="showScale('ipssm')">IPSS-M åˆ†å­è¯„åˆ† âœ“</a>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-section-title">AML/æ€¥æ€§ç™½è¡€ç—…</div>
                <a class="sidebar-link" onclick="showScale('amleln2022')">AML ELN 2022 åˆ†å±‚ âœ“</a>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-section-title">MPN/éª¨é«“å¢æ®–</div>
                <a class="sidebar-link" onclick="showScale('ipss')">IPSS è¯„åˆ†</a>
                <a class="sidebar-link" onclick="showScale('dipss')">DIPSS è¯„åˆ†</a>
                <a class="sidebar-link" onclick="showScale('ipset')">IPSET è¡€æ “</a>
                <a class="sidebar-link" onclick="showScale('sokal')">Sokal è¯„åˆ†</a>
                <a class="sidebar-link" onclick="showScale('eutos')">EUTOS è¯„åˆ†</a>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-section-title">å‡ºè¡€ä¸è¡€æ “</div>
                <a class="sidebar-link" onclick="showScale('isth')">ISTH DIC</a>
                <a class="sidebar-link" onclick="showScale('4t')">4T's HITè¯„åˆ†</a>
                <a class="sidebar-link" onclick="showScale('hasbled')">HAS-BLED å‡ºè¡€</a>
                <a class="sidebar-link" onclick="showScale('wells')">Wells DVT/PE</a>
                <a class="sidebar-link" onclick="showScale('padua')">Padua VTE</a>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-section-title">ç»†èƒæ²»ç–—</div>
                <a class="sidebar-link" onclick="showScale('carstcrs')">CAR-T CRS åˆ†çº§ âœ“</a>
                <a class="sidebar-link" onclick="showScale('carsticans')">CAR-T ICANS åˆ†çº§ âœ“</a>
            </div>
        </div>

        <div class="container">
            <div class="header">
                <h1>ğŸ¥ è¡€æ¶²ç§‘è¯„ä¼°é‡è¡¨è®¡ç®—å™¨(å®Œæ•´ç‰ˆ)</h1>
                <p>åŒ…å«35+å¸¸ç”¨è¯„ä¼°é‡è¡¨ | æ¶µç›–æ·‹å·´ç˜¤ã€éª¨é«“ç˜¤ã€MDSã€AMLã€MPNã€è¡€æ “ã€CAR-Tç­‰ | å®æ—¶è®¡ç®— | ä»…ä¾›ä¸“ä¸šåŒ»ç–—äººå‘˜ä½¿ç”¨</p>
            </div>

        <!-- åˆ†ç±»å¯¼èˆª -->
        <div class="category-nav" id="categoryNav">
            <button class="category-btn active" onclick="filterCategory('all')">å…¨éƒ¨</button>
            <button class="category-btn" onclick="filterCategory('lymphoma')">æ·‹å·´ç˜¤</button>
            <button class="category-btn" onclick="filterCategory('myeloma')">å¤šå‘æ€§éª¨é«“ç˜¤</button>
            <button class="category-btn" onclick="filterCategory('mds')">MDS</button>
            <button class="category-btn" onclick="filterCategory('mpn')">MPN</button>
            <button class="category-btn" onclick="filterCategory('thrombosis')">å‡ºè¡€ä¸è¡€æ “</button>
            <button class="category-btn" onclick="filterCategory('general')">é€šç”¨é‡è¡¨</button>
            <button class="category-btn" onclick="filterCategory('other')">å…¶ä»–</button>
        </div>

        <!-- é‡è¡¨æ ‡ç­¾å¯¼èˆª -->
        <div class="nav-tabs" id="navTabs">
            <button class="nav-tab active" data-category="general" onclick="showScale('ecog')">ECOG</button>
            <button class="nav-tab" data-category="general" onclick="showScale('kps')">KPS</button>
            <button class="nav-tab" data-category="lymphoma" onclick="showScale('i')">IPI</button>
            <button class="nav-tab" data-category="lymphoma" onclick="showScale('flipi')">FLIPI</button>
            <button class="nav-tab" data-category="lymphoma" onclick="showScale('mipi')">MIPI</button>
            <button class="nav-tab" data-category="lymphoma" onclick="showScale('annarbor')">Ann Arbor</button>
            <button class="nav-tab" data-category="myeloma" onclick="showScale('iss')">ISS</button>
            <button class="nav-tab" data-category="myeloma" onclick="showScale('riss')">R-ISS</button>
            <button class="nav-tab" data-category="myeloma" onclick="showScale('ds')">DSåˆ†æœŸ</button>
            <button class="nav-tab" data-category="mds" onclick="showScale('ipssr')">IPSS-R</button>
            <button class="nav-tab" data-category="mds" onclick="showScale('ipssm')">IPSS-M</button>
            <button class="nav-tab" data-category="mpn" onclick="showScale('ipss')">IPSS</button>
            <button class="nav-tab" data-category="mpn" onclick="showScale('dipss')">DIPSS</button>
            <button class="nav-tab" data-category="mpn" onclick="showScale('ipset')">IPSET-thrombosis</button>
            <button class="nav-tab" data-category="mpn" onclick="showScale('sokal')">Sokal</button>
            <button class="nav-tab" data-category="mpn" onclick="showScale('eutos')">EUTOS</button>
            <button class="nav-tab" data-category="thrombosis" onclick="showScale('isth')">ISTH DIC</button>
            <button class="nav-tab" data-category="thrombosis" onclick="showScale('4t')">4T's</button>
            <button class="nav-tab" data-category="thrombosis" onclick="showScale('hasbled')">HAS-BLED</button>
            <button class="nav-tab" data-category="thrombosis" onclick="showScale('wells')">Wells</button>
            <button class="nav-tab" data-category="thrombosis" onclick="showScale('padua')">Padua</button>
            <button class="nav-tab" data-category="other" onclick="showScale('hctci')">HCT-CI</button>
            <button class="nav-tab" data-category="other" onclick="showScale('nrs2002')">NRS2002</button>
            <button class="nav-tab" data-category="general" onclick="showScale('nrs')">ç–¼ç—›NRS</button>
            <button class="nav-tab" data-category="general" onclick="showScale('hads')">HADS</button>
            <button class="nav-tab" data-category="lymphoma" onclick="showScale('binet')">CLL Binet</button>
        </div>

        <div class="content">
            <!-- ECOGä½“èƒ½çŠ¶æ€è¯„åˆ† -->
            <div id="ecog" class="scale-section active" data-category="general">
                <h2 class="scale-title">ECOGä½“èƒ½çŠ¶æ€è¯„åˆ† (Eastern Cooperative Oncology Group)</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>è¯„ä¼°æ‚£è€…çš„æ•´ä½“åŠŸèƒ½çŠ¶æ€å’Œæ´»åŠ¨èƒ½åŠ›ï¼Œç”¨äºåŒ–ç–—è€å—æ€§è¯„ä¼°ã€æ²»ç–—æ–¹æ¡ˆé€‰æ‹©å’Œé¢„ååˆ¤æ–­ã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>æ‰€æœ‰è¡€æ¶²è‚¿ç˜¤æ‚£è€…</p>
                </div>

                <div class="info-box">
                    <strong>âœ¨ å®æ—¶è®¡ç®—ï¼š</strong>é€‰æ‹©é€‰é¡¹åè‡ªåŠ¨æ˜¾ç¤ºç»“æœï¼Œæ— éœ€ç‚¹å‡»è®¡ç®—æŒ‰é’®
                </div>

                <div class="question-group">
                    <div class="question-title">è¯·é€‰æ‹©æ‚£è€…çš„åŠŸèƒ½çŠ¶æ€</div>
                    <div class="option-group">
                        <label class="option-label">
                            <input type="radio" name="ecog" value="0" onchange="calculateECOG()">
                            <strong>0çº§ - å®Œå…¨æ´»åŠ¨</strong>ï¼šèƒ½å¤Ÿæ¯«æ— é™åˆ¶åœ°è¿›è¡Œæ‰€æœ‰æ‚£ç—…å‰çš„æ´»åŠ¨
                        </label>
                        <label class="option-label">
                            <input type="radio" name="ecog" value="1" onchange="calculateECOG()">
                            <strong>1çº§ - é‡ä½“åŠ›æ´»åŠ¨å—é™</strong>ï¼šèƒ½èµ°åŠ¨å¹¶èƒ½è¿›è¡Œè½»ä½“åŠ›æˆ–åå§¿å·¥ä½œï¼ˆå¦‚åŠå…¬å®¤å·¥ä½œã€å®¶åŠ¡ï¼‰
                        </label>
                        <label class="option-label">
                            <input type="radio" name="ecog" value="2" onchange="calculateECOG()">
                            <strong>2çº§ - ç”Ÿæ´»è‡ªç†</strong>ï¼šèƒ½èµ°åŠ¨å¹¶èƒ½ç”Ÿæ´»è‡ªç†ï¼Œä½†æ— æ³•å·¥ä½œï¼›å§åºŠæ—¶é—´å°‘äºæ¸…é†’æ—¶é—´çš„50%
                        </label>
                        <label class="option-label">
                            <input type="radio" name="ecog" value="3" onchange="calculateECOG()">
                            <strong>3çº§ - éƒ¨åˆ†è‡ªç†</strong>ï¼šç”Ÿæ´»ä»…èƒ½éƒ¨åˆ†è‡ªç†ï¼Œå§åºŠæˆ–åæ¤…æ—¶é—´è¶…è¿‡æ¸…é†’æ—¶é—´çš„50%
                        </label>
                        <label class="option-label">
                            <input type="radio" name="ecog" value="4" onchange="calculateECOG()">
                            <strong>4çº§ - å®Œå…¨ä¸§å¤±æ´»åŠ¨èƒ½åŠ›</strong>ï¼šæ— æ³•è‡ªç†ï¼Œå®Œå…¨å§åºŠæˆ–åæ¤…
                        </label>
                    </div>
                </div>

                <div class="result-section" id="ecog-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="ecog-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Oken MM, et al. Toxicity and response criteria of the Eastern Cooperative Oncology Group. Am J Clin Oncol. 1982.</p>
                </div>
            </div>

            <!-- KPSåŠŸèƒ½çŠ¶æ€è¯„åˆ† -->
            <div id="kps" class="scale-section" data-category="general">
                <h2 class="scale-title">å¡æ°åŠŸèƒ½çŠ¶æ€è¯„åˆ† (Karnofsky Performance Status, KPS)</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>è¯„ä¼°æ‚£è€…åŠŸèƒ½çŠ¶æ€å’Œè‡ªç†èƒ½åŠ›ï¼Œè¾ƒECOGæ›´ç»†è‡´ï¼Œé€‚åˆè¯„ä¼°å°å¹…åº¦åŠŸèƒ½å˜åŒ–ã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>æ‰€æœ‰è¡€æ¶²è‚¿ç˜¤æ‚£è€…</p>
                </div>

                <div class="question-group">
                    <div class="question-title">è¯·é€‰æ‹©æ‚£è€…çš„åŠŸèƒ½çŠ¶æ€</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="kps" value="100"><strong>100åˆ†</strong>ï¼šæ­£å¸¸ï¼Œæ— ç–¾ç—…è¯æ®</label>
                        <label class="option-label"><input type="radio" name="kps" value="90"><strong>90åˆ†</strong>ï¼šæ­£å¸¸æ´»åŠ¨ï¼Œè½»å¾®ç–¾ç—…å¾è±¡</label>
                        <label class="option-label"><input type="radio" name="kps" value="80"><strong>80åˆ†</strong>ï¼šæ­£å¸¸æ´»åŠ¨éœ€åŠªåŠ›ï¼Œæœ‰äº›ç–¾ç—…å¾è±¡</label>
                        <label class="option-label"><input type="radio" name="kps" value="70"><strong>70åˆ†</strong>ï¼šèƒ½è‡ªç†ä½†ä¸èƒ½æ­£å¸¸æ´»åŠ¨æˆ–å·¥ä½œ</label>
                        <label class="option-label"><input type="radio" name="kps" value="60"><strong>60åˆ†</strong>ï¼šéœ€è¦å¶å°”å¸®åŠ©ï¼Œä½†å¤§éƒ¨åˆ†éœ€æ±‚èƒ½è‡ªç†</label>
                        <label class="option-label"><input type="radio" name="kps" value="50"><strong>50åˆ†</strong>ï¼šéœ€è¦å¤§é‡å¸®åŠ©å’Œç»å¸¸çš„åŒ»ç–—æŠ¤ç†</label>
                        <label class="option-label"><input type="radio" name="kps" value="40"><strong>40åˆ†</strong>ï¼šä¸§å¤±æ´»åŠ¨èƒ½åŠ›ï¼Œéœ€è¦ç‰¹æ®ŠæŠ¤ç†</label>
                        <label class="option-label"><input type="radio" name="kps" value="30"><strong>30åˆ†</strong>ï¼šä¸¥é‡ä¸§å¤±æ´»åŠ¨èƒ½åŠ›ï¼Œå»ºè®®ä½é™¢</label>
                        <label class="option-label"><input type="radio" name="kps" value="20"><strong>20åˆ†</strong>ï¼šç—…é‡ï¼Œéœ€è¦ä½é™¢å’Œæ”¯æŒæ²»ç–—</label>
                        <label class="option-label"><input type="radio" name="kps" value="10"><strong>10åˆ†</strong>ï¼šæ¿’æ­»ï¼Œç—…ç¨‹è¿›å±•è¿…é€Ÿ</label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateKPS()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="kps-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="kps-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Karnofsky DA, et al. The use of rating scales in evaluating chemotherapeutic response in cancer. Cancer Res. 1948.</p>
                </div>
            </div>

            <!-- æ·‹å·´ç˜¤IPIè¯„åˆ† -->
            <div id="i" class="scale-section" data-category="lymphoma">
                <h2 class="scale-title">æ·‹å·´ç˜¤å›½é™…é¢„åæŒ‡æ•° (IPI)</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>è¯„ä¼°ä¾µè¢­æ€§NHLï¼ˆç‰¹åˆ«æ˜¯DLBCLï¼‰æ‚£è€…çš„é¢„åã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>å¼¥æ¼«å¤§Bç»†èƒæ·‹å·´ç˜¤ç­‰ä¾µè¢­æ€§æ·‹å·´ç˜¤</p>
                </div>

                <div class="info-box">
                    <strong>âœ¨ å®æ—¶è®¡ç®—ï¼š</strong>é€‰æ‹©é£é™©å› ç´ åè‡ªåŠ¨æ˜¾ç¤ºç»“æœï¼Œæ— éœ€ç‚¹å‡»è®¡ç®—æŒ‰é’®
                </div>

                <div class="question-group">
                    <div class="question-title">é£é™©å› ç´ ï¼ˆæ¯é¡¹1åˆ†ï¼‰</div>
                    <div class="option-group">
                        <label class="option-label"><input type="checkbox" id="i_age" onchange="calculateIPI()">å¹´é¾„ > 60å²</label>
                        <label class="option-label"><input type="checkbox" id="i_ldh" onchange="calculateIPI()">LDH > æ­£å¸¸å€¼ä¸Šé™</label>
                        <label class="option-label"><input type="checkbox" id="i_ecog" onchange="calculateIPI()">ECOG â‰¥ 2çº§</label>
                        <label class="option-label"><input type="checkbox" id="i_stage" onchange="calculateIPI()">Ann Arboråˆ†æœŸ IIIæˆ–IVæœŸ</label>
                        <label class="option-label"><input type="checkbox" id="i_extranodal" onchange="calculateIPI()">ç»“å¤–å—ç´¯ > 1å¤„</label>
                    </div>
                </div>

                <div class="result-section" id="i-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="i-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Shipp MA, et al. The International Non-Hodgkin's Lymphoma Prognostic Factors Project. N Engl J Med. 1993.</p>
                </div>
            </div>

            <!-- FLIPIè¯„åˆ† -->
            <div id="flipi" class="scale-section" data-category="lymphoma">
                <h2 class="scale-title">æ»¤æ³¡æ€§æ·‹å·´ç˜¤å›½é™…é¢„åæŒ‡æ•° (FLIPI)</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>è¯„ä¼°æ»¤æ³¡æ€§æ·‹å·´ç˜¤æ‚£è€…çš„é¢„åã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>æ»¤æ³¡æ€§æ·‹å·´ç˜¤ï¼ˆ1-3açº§ï¼‰</p>
                </div>

                <div class="question-group">
                    <div class="question-title">é£é™©å› ç´ ï¼ˆæ¯é¡¹1åˆ†ï¼‰</div>
                    <div class="option-group">
                        <label class="option-label"><input type="checkbox" id="flipi_age">å¹´é¾„ â‰¥ 60å²</label>
                        <label class="option-label"><input type="checkbox" id="flipi_stage">Ann Arboråˆ†æœŸ IIIæˆ–IVæœŸ</label>
                        <label class="option-label"><input type="checkbox" id="flipi_hb">è¡€çº¢è›‹ç™½ < 120g/L</label>
                        <label class="option-label"><input type="checkbox" id="flipi_nodes">å—ç´¯æ·‹å·´ç»“åŒºåŸŸ â‰¥ 4ä¸ª</label>
                        <label class="option-label"><input type="checkbox" id="flipi_ldh">LDH > æ­£å¸¸å€¼ä¸Šé™</label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateFLIPI()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="flipi-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="flipi-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Solal-CÃ©ligny P, et al. Follicular Lymphoma International Prognostic Index. Blood. 2004.</p>
                </div>
            </div>

            <!-- MIPIè¯„åˆ† -->
            <div id="mipi" class="scale-section" data-category="lymphoma">
                <h2 class="scale-title">å¥—ç»†èƒæ·‹å·´ç˜¤å›½é™…é¢„åæŒ‡æ•° (MIPI)</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>è¯„ä¼°å¥—ç»†èƒæ·‹å·´ç˜¤æ‚£è€…çš„é¢„åã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>å¥—ç»†èƒæ·‹å·´ç˜¤ï¼ˆMCLï¼‰</p>
                </div>

                <div class="question-group">
                    <div class="question-title">å¹´é¾„</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="mipi_age" value="0">< 50å²ï¼ˆ0åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="mipi_age" value="1">50-59å²ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="mipi_age" value="2">â‰¥ 60å²ï¼ˆ2åˆ†ï¼‰</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">ECOGä½“èƒ½çŠ¶æ€</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="mipi_ecog" value="0">0-1åˆ†ï¼ˆ0åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="mipi_ecog" value="1">2-4åˆ†ï¼ˆ1åˆ†ï¼‰</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">LDHæ°´å¹³</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="mipi_ldh" value="0">æ­£å¸¸ï¼ˆ0åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="mipi_ldh" value="1">é«˜äºæ­£å¸¸ä¸Šé™ï¼ˆ1åˆ†ï¼‰</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">ç™½ç»†èƒè®¡æ•°ï¼ˆÃ—10â¹/Lï¼‰</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="mipi_wbc" value="0">â‰¤ 6.7ï¼ˆ0åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="mipi_wbc" value="1">6.7-10.0ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="mipi_wbc" value="2">> 10.0ï¼ˆ2åˆ†ï¼‰</label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateMIPI()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="mipi-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="mipi-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Hoster E, et al. A new prognostic index (MIPI) for patients with advanced-stage mantle cell lymphoma. Blood. 2008.</p>
                </div>
            </div>

            <!-- Ann Arboråˆ†æœŸ -->
            <div id="annarbor" class="scale-section" data-category="lymphoma">
                <h2 class="scale-title">Ann Arboråˆ†æœŸç³»ç»Ÿ</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>æ·‹å·´ç˜¤æœ€åŸºç¡€çš„ä¸´åºŠåˆ†æœŸç³»ç»Ÿã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>æ‰€æœ‰ç±»å‹éœå¥‡é‡‘æ·‹å·´ç˜¤å’Œééœå¥‡é‡‘æ·‹å·´ç˜¤</p>
                </div>

                <div class="question-group">
                    <div class="question-title">åˆ†æœŸ</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="annarbor" value="1"><strong>IæœŸ</strong>ï¼šç´¯åŠå•ä¸ªæ·‹å·´ç»“åŒºåŸŸæˆ–å•ä¸ªæ·‹å·´å¤–å™¨å®˜/éƒ¨ä½ï¼ˆIEï¼‰</label>
                        <label class="option-label"><input type="radio" name="annarbor" value="2"><strong>IIæœŸ</strong>ï¼šç´¯åŠæ¨ªè†ˆåŒä¾§ä¸¤ä¸ªæˆ–ä»¥ä¸Šæ·‹å·´ç»“åŒºåŸŸ</label>
                        <label class="option-label"><input type="radio" name="annarbor" value="3"><strong>IIIæœŸ</strong>ï¼šç´¯åŠæ¨ªè†ˆä¸¤ä¾§æ·‹å·´ç»“åŒºåŸŸ</label>
                        <label class="option-label"><input type="radio" name="annarbor" value="4"><strong>IVæœŸ</strong>ï¼šå¼¥æ¼«æ€§æˆ–æ’­æ•£æ€§ç´¯åŠä¸€ä¸ªæˆ–ä»¥ä¸Šæ·‹å·´å¤–å™¨å®˜</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">å…¨èº«ç—‡çŠ¶</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="annarbor_symptoms" value="A">Aï¼šæ— å…¨èº«ç—‡çŠ¶</label>
                        <label class="option-label"><input type="radio" name="annarbor_symptoms" value="B">Bï¼šæœ‰ä»¥ä¸‹ä»»ä¸€ç—‡çŠ¶ï¼ˆå‘çƒ­>38â„ƒã€ç›—æ±—ã€6ä¸ªæœˆå†…ä½“é‡ä¸‹é™>10%ï¼‰</label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateAnnArbor()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="annarbor-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="annarbor-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Lister TA, et al. Report of a committee convened to discuss the evaluation and staging of patients with Hodgkin's disease: Cotswolds meeting. J Clin Oncol. 1989.</p>
                </div>
            </div>

            <!-- MM ISSåˆ†æœŸ -->
            <div id="iss" class="scale-section" data-category="myeloma">
                <h2 class="scale-title">å¤šå‘æ€§éª¨é«“ç˜¤ISSåˆ†æœŸ</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>è¯„ä¼°å¤šå‘æ€§éª¨é«“ç˜¤æ‚£è€…çš„é¢„åã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>æ‰€æœ‰å¤šå‘æ€§éª¨é«“ç˜¤æ‚£è€…</p>
                </div>

                <div class="question-group">
                    <div class="question-title">è¡€æ¸…Î²2å¾®çƒè›‹ç™½ (mg/L)</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="iss_b2m" value="low">< 3.5 mg/L</label>
                        <label class="option-label"><input type="radio" name="iss_b2m" value="mid">3.5 - 5.5 mg/L</label>
                        <label class="option-label"><input type="radio" name="iss_b2m" value="high">â‰¥ 5.5 mg/L</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">è¡€æ¸…ç™½è›‹ç™½ (g/L)</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="iss_alb" value="high">â‰¥ 35 g/L</label>
                        <label class="option-label"><input type="radio" name="iss_alb" value="low">< 35 g/L</label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateISS()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="iss-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="iss-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Greipp PR, et al. International staging system for multiple myeloma. J Clin Oncol. 2005.</p>
                </div>
            </div>

            <!-- R-ISSåˆ†æœŸ -->
            <div id="riss" class="scale-section" data-category="myeloma">
                <h2 class="scale-title">å¤šå‘æ€§éª¨é«“ç˜¤R-ISSåˆ†æœŸï¼ˆä¿®è®¢ç‰ˆISSï¼‰</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>åœ¨ISSåŸºç¡€ä¸Šå¢åŠ ç»†èƒé—ä¼ å­¦å’ŒLDHï¼Œæä¾›æ›´ç²¾ç¡®çš„é¢„åè¯„ä¼°ã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>æ‰€æœ‰å¤šå‘æ€§éª¨é«“ç˜¤æ‚£è€…</p>
                </div>

                <div class="question-group">
                    <div class="question-title">è¡€æ¸…Î²2å¾®çƒè›‹ç™½ (mg/L)</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="riss_b2m" value="low">< 3.5 mg/L</label>
                        <label class="option-label"><input type="radio" name="riss_b2m" value="mid">3.5 - 5.5 mg/L</label>
                        <label class="option-label"><input type="radio" name="riss_b2m" value="high">â‰¥ 5.5 mg/L</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">è¡€æ¸…ç™½è›‹ç™½ (g/L)</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="riss_alb" value="high">â‰¥ 35 g/L</label>
                        <label class="option-label"><input type="radio" name="riss_alb" value="low">< 35 g/L</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">LDHæ°´å¹³</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="riss_ldh" value="normal">æ­£å¸¸</label>
                        <label class="option-label"><input type="radio" name="riss_ldh" value="high">é«˜äºæ­£å¸¸ä¸Šé™</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">é«˜å±ç»†èƒé—ä¼ å­¦å¼‚å¸¸ï¼ˆFISHæ£€æµ‹ï¼‰</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="riss_fish" value="no">æ— é«˜å±å¼‚å¸¸</label>
                        <label class="option-label"><input type="radio" name="riss_fish" value="yes">æœ‰é«˜å±å¼‚å¸¸[t(4;14), t(14;16), del(17p)]</label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateRISS()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="riss-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="riss-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Palumbo A, et al. Revised International Staging System for Multiple Myeloma. J Clin Oncol. 2015.</p>
                </div>
            </div>

            <!-- DSåˆ†æœŸ -->
            <div id="ds" class="scale-section" data-category="myeloma">
                <h2 class="scale-title">å¤šå‘æ€§éª¨é«“ç˜¤DSåˆ†æœŸï¼ˆDurie-Salmonï¼‰</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>ä¼ ç»Ÿçš„æ ¹æ®è‚¿ç˜¤è´Ÿè·è¿›è¡Œçš„åˆ†æœŸã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>å¤šå‘æ€§éª¨é«“ç˜¤æ‚£è€…</p>
                </div>

                <div class="question-group">
                    <div class="question-title">è¡€çº¢è›‹ç™½ (g/L)</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="ds_hb" value="0">> 100ï¼ˆ0åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="ds_hb" value="1">85-100ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="ds_hb" value="2">< 85ï¼ˆ2åˆ†ï¼‰</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">è¡€æ¸…é’™ (mmol/L)</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="ds_ca" value="0">â‰¤ 2.75ï¼ˆ0åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="ds_ca" value="1">> 2.75 - 3.0ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="ds_ca" value="2">> 3.0ï¼ˆ2åˆ†ï¼‰</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">éª¨éª¼Xçº¿æ£€æŸ¥</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="ds_bone" value="0">æ— æˆ–ä»…æœ‰å­¤ç«‹æ€§éª¨æµ†ç»†èƒç˜¤ï¼ˆ0åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="ds_bone" value="1">å±€é™æ€§æº¶éª¨æ€§ç—…å˜ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="ds_bone" value="2">è¿›å±•æ€§æº¶éª¨æ€§ç—…å˜ï¼ˆ2åˆ†ï¼‰</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">Mè›‹ç™½åˆæˆç‡ (IgG g/L)</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="ds_m" value="0">< 50ï¼ˆ0åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="ds_m" value="1">50-70ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="ds_m" value="2">> 70ï¼ˆ2åˆ†ï¼‰</label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateDS()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="ds-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="ds-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Durie BG, Salmon SE. A clinical staging system for multiple myeloma. Cancer. 1975.</p>
                </div>
            </div>

            <!-- IPSS-Rè¯„åˆ† -->
            <div id="ipssr" class="scale-section" data-category="mds">
                <h2 class="scale-title">MDS IPSS-Rè¯„åˆ†ï¼ˆä¿®è®¢ç‰ˆå›½é™…é¢„åè¯„åˆ†ç³»ç»Ÿï¼‰</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>è¯„ä¼°MDSæ‚£è€…é¢„åï¼ŒæŒ‡å¯¼æ²»ç–—å†³ç­–ã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>éª¨é«“å¢ç”Ÿå¼‚å¸¸ç»¼åˆå¾æ‚£è€…</p>
                </div>

                <div class="question-group">
                    <div class="question-title">ç»†èƒé—ä¼ å­¦åˆ†ç»„</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="ipssr_cyto" value="0">æå¥½ï¼ˆ0åˆ†ï¼‰ï¼š-Y, del(11q)</label>
                        <label class="option-label"><input type="radio" name="ipssr_cyto" value="1">å¥½ï¼ˆ1åˆ†ï¼‰ï¼šæ­£å¸¸æ ¸å‹, del(5q), del(12p), del(20q)ç­‰</label>
                        <label class="option-label"><input type="radio" name="ipssr_cyto" value="2">ä¸­ç­‰ï¼ˆ2åˆ†ï¼‰ï¼šdel(7q), +8ç­‰</label>
                        <label class="option-label"><input type="radio" name="ipssr_cyto" value="3">å·®ï¼ˆ3åˆ†ï¼‰ï¼š-7, inv(3), å¤æ‚æ ¸å‹ï¼ˆ3ä¸ªå¼‚å¸¸ï¼‰</label>
                        <label class="option-label"><input type="radio" name="ipssr_cyto" value="4">æå·®ï¼ˆ4åˆ†ï¼‰ï¼šå¤æ‚æ ¸å‹ï¼ˆ>3ä¸ªå¼‚å¸¸ï¼‰</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">éª¨é«“åŸå§‹ç»†èƒç™¾åˆ†æ¯”</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="ipssr_blast" value="0">â‰¤ 2%ï¼ˆ0åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="ipssr_blast" value="1">> 2% - < 5%ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="ipssr_blast" value="2">5% - < 10%ï¼ˆ2åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="ipssr_blast" value="3">â‰¥ 10%ï¼ˆ3åˆ†ï¼‰</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">è¡€çº¢è›‹ç™½ (g/L)</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="ipssr_hb" value="0">â‰¥ 100ï¼ˆ0åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="ipssr_hb" value="1">80 - < 100ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="ipssr_hb" value="2">< 80ï¼ˆ2åˆ†ï¼‰</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">è¡€å°æ¿è®¡æ•°ï¼ˆÃ—10â¹/Lï¼‰</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="ipssr_plt" value="0">â‰¥ 100ï¼ˆ0åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="ipssr_plt" value="1">50 - < 100ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="ipssr_plt" value="2">< 50ï¼ˆ2åˆ†ï¼‰</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">ä¸­æ€§ç²’ç»†èƒç»å¯¹å€¼ï¼ˆÃ—10â¹/Lï¼‰</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="ipssr_anc" value="0">â‰¥ 0.8ï¼ˆ0åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="ipssr_anc" value="1">< 0.8ï¼ˆ1åˆ†ï¼‰</label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateIPSSR()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="ipssr-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="ipssr-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Greenberg PL, et al. Revised international prognostic scoring system (IPSS-R) for MDS. Blood. 2012.</p>
                </div>
            </div>

            <!-- IPSS-Mè¯„åˆ† -->
            <div id="ipssm" class="scale-section" data-category="mds">
                <h2 class="scale-title">MDS IPSS-Mè¯„åˆ†ï¼ˆåˆ†å­ç‰ˆå›½é™…é¢„åè¯„åˆ†ç³»ç»Ÿï¼‰</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>2022å¹´å‘å¸ƒï¼Œæ•´åˆåŸºå› çªå˜ä¿¡æ¯ï¼Œæä¾›æ¯”IPSS-Ræ›´ç²¾ç¡®çš„é¢„åè¯„ä¼°ã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>éª¨é«“å¢ç”Ÿå¼‚å¸¸ç»¼åˆå¾æ‚£è€…</p>
                    <p><strong>æ³¨æ„ï¼š</strong>éœ€è¦äºŒä»£æµ‹åºï¼ˆNGSï¼‰æ£€æµ‹åŸºå› çªå˜</p>
                </div>

                <div class="info-box">
                    <strong>IPSS-Mè®¡ç®—è¯´æ˜ï¼š</strong>IPSS-Måœ¨IPSS-RåŸºç¡€ä¸Šæ ¹æ®åŸºå› çªå˜è°±è°ƒæ•´è¯„åˆ†ã€‚æ­¤å·¥å…·æä¾›åŸºäºä¸»è¦åŸºå› çªå˜çš„ç®€åŒ–è¯„ä¼°ã€‚å»ºè®®ä½¿ç”¨ä¸“ä¸šIPSS-Mè®¡ç®—å·¥å…·è¿›è¡Œç²¾ç¡®è¯„ä¼°ã€‚
                </div>

                <div class="question-group">
                    <div class="question-title">é¦–å…ˆè®¡ç®—IPSS-Rè¯„åˆ†</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="ipssm_base" value="verylow">IPSS-R æä½å±ï¼ˆ0-1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="ipssm_base" value="low">IPSS-R ä½å±ï¼ˆ2-3åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="ipssm_base" value="intermediate">IPSS-R ä¸­å±ï¼ˆ4-5åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="ipssm_base" value="high">IPSS-R é«˜å±ï¼ˆ6-7åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="ipssm_base" value="veryhigh">IPSS-R æé«˜å±ï¼ˆ>7åˆ†ï¼‰</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">å…³é”®é©±åŠ¨åŸºå› çªå˜ï¼ˆNGSæ£€æµ‹ï¼‰</div>
                    <div class="option-group">
                        <label class="option-label"><input type="checkbox" id="ipssm_tp53">TP53çªå˜ï¼ˆå°¤å…¶æ˜¯å¤šæ‰“å‡»å¼‚å¸¸ï¼‰- æ˜¾è‘—å¢åŠ é£é™©</label>
                        <label class="option-label"><input type="checkbox" id="ipssm_sf3b1">SF3B1çªå˜ï¼ˆå•ç‹¬çªå˜ï¼Œæ— å…¶ä»–ä¸è‰¯åŸºå› ï¼‰- é™ä½é£é™©</label>
                        <label class="option-label"><input type="checkbox" id="ipssm_other">å…¶ä»–ä¸è‰¯åŸºå› ï¼ˆASXL1, RUNX1ç­‰ï¼‰- å¢åŠ é£é™©</label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateIPSSM()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="ipssm-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="ipssm-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Bernard E, et al. The IPSS-M: A genomic and clinical model for MDS prognosis. Blood. 2022.</p>
                </div>
            </div>

            <!-- IPSSè¯„åˆ†ï¼ˆéª¨é«“çº¤ç»´åŒ–ï¼‰ -->
            <div id="ipss" class="scale-section" data-category="mpn">
                <h2 class="scale-title">åŸå‘æ€§éª¨é«“çº¤ç»´åŒ–IPSSè¯„åˆ†</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>è¯„ä¼°åŸå‘æ€§éª¨é«“çº¤ç»´åŒ–æ‚£è€…çš„ç”Ÿå­˜æœŸã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>åŸå‘æ€§éª¨é«“çº¤ç»´åŒ–ï¼ˆPMFï¼‰æ‚£è€…</p>
                </div>

                <div class="question-group">
                    <div class="question-title">é£é™©å› ç´ ï¼ˆæ¯é¡¹1åˆ†ï¼‰</div>
                    <div class="option-group">
                        <label class="option-label"><input type="checkbox" id="ipss_age">å¹´é¾„ > 65å²</label>
                        <label class="option-label"><input type="checkbox" id="ipss_hb">è¡€çº¢è›‹ç™½ < 100 g/L</label>
                        <label class="option-label"><input type="checkbox" id="ipss_wbc">ç™½ç»†èƒè®¡æ•° > 25Ã—10â¹/L</label>
                        <label class="option-label"><input type="checkbox" id="ipss_blast">å¤–å‘¨è¡€åŸå§‹ç»†èƒ â‰¥ 1%</label>
                        <label class="option-label"><input type="checkbox" id="ipss_symptoms">å…¨èº«ç—‡çŠ¶ï¼ˆå‘çƒ­ã€ç›—æ±—ã€ä½“é‡ä¸‹é™ï¼‰</label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateIPSS()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="ipss-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="ipss-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Cervantes F, et al. International Prognostic Scoring System (IPSS) for myelofibrosis. Blood. 2009.</p>
                </div>
            </div>

            <!-- DIPSSè¯„åˆ† -->
            <div id="dipss" class="scale-section" data-category="mpn">
                <h2 class="scale-title">åŸå‘æ€§éª¨é«“çº¤ç»´åŒ–DIPSSè¯„åˆ†ï¼ˆåŠ¨æ€IPSSï¼‰</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>å¯åœ¨ç—…ç¨‹ä¸­ä»»ä½•æ—¶å€™è¯„ä¼°é¢„åï¼ˆä¸ä»…é™äºè¯Šæ–­æ—¶ï¼‰ã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>åŸå‘æ€§éª¨é«“çº¤ç»´åŒ–ï¼ˆPMFï¼‰æ‚£è€…</p>
                </div>

                <div class="question-group">
                    <div class="question-title">é£é™©å› ç´ </div>
                    <div class="option-group">
                        <label class="option-label"><input type="checkbox" id="dipss_age">å¹´é¾„ > 65å²ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="dipss_hb">è¡€çº¢è›‹ç™½ < 100 g/Lï¼ˆ2åˆ†ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="dipss_wbc">ç™½ç»†èƒè®¡æ•° > 25Ã—10â¹/Lï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="dipss_blast">å¤–å‘¨è¡€åŸå§‹ç»†èƒ â‰¥ 1%ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="dipss_symptoms">å…¨èº«ç—‡çŠ¶ï¼ˆ1åˆ†ï¼‰</label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateDIPSS()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="dipss-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="dipss-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Passamonti F, et al. Dynamic IPSS for myelofibrosis (DIPSS). Blood. 2010.</p>
                </div>
            </div>

            <!-- IPSET-thrombosisè¯„åˆ† -->
            <div id="ipset" class="scale-section" data-category="mpn">
                <h2 class="scale-title">åŸå‘æ€§è¡€å°æ¿å¢å¤šç—‡IPSET-thrombosisè¯„åˆ†</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>è¯„ä¼°ETæ‚£è€…çš„è¡€æ “é£é™©ï¼ŒæŒ‡å¯¼æŠ—æ “æ²»ç–—å†³ç­–ã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>åŸå‘æ€§è¡€å°æ¿å¢å¤šç—‡ï¼ˆETï¼‰æ‚£è€…</p>
                </div>

                <div class="question-group">
                    <div class="question-title">é£é™©å› ç´ </div>
                    <div class="option-group">
                        <label class="option-label"><input type="checkbox" id="ipset_age">å¹´é¾„ > 60å²ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="ipset_cv">å¿ƒè¡€ç®¡å±é™©å› ç´ ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="ipset_thrombosis">æ—¢å¾€è¡€æ “å²ï¼ˆ2åˆ†ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="ipset_jak2">JAK2 V617Fçªå˜é˜³æ€§ï¼ˆ2åˆ†ï¼‰</label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateIPSET()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="ipset-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="ipset-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Barbui T, et al. IPSET-thrombosis for ET. Blood. 2013.</p>
                </div>
            </div>

            <!-- Sokalè¯„åˆ†ï¼ˆCMLï¼‰ -->
            <div id="sokal" class="scale-section" data-category="mpn">
                <h2 class="scale-title">æ…¢æ€§é«“ç³»ç™½è¡€ç—…Sokalè¯„åˆ†</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>è¯„ä¼°CMLæ…¢æ€§æœŸæ‚£è€…çš„é¢„åã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>æ…¢æ€§é«“ç³»ç™½è¡€ç—…ï¼ˆCMLï¼‰æ…¢æ€§æœŸæ‚£è€…</p>
                </div>

                <div class="question-group">
                    <div class="question-title">å¹´é¾„ï¼ˆå²ï¼‰</div>
                    <input type="number" id="sokal_age" class="input-number" placeholder="è¾“å…¥å¹´é¾„" min="0" max="120">
                </div>

                <div class="question-group">
                    <div class="question-title">è„¾è„å¤§å°ï¼ˆcmï¼Œè‚‹ç¼˜ä¸‹ï¼‰</div>
                    <input type="number" id="sokal_spleen" class="input-number" placeholder="è¾“å…¥è„¾è„å¤§å°" min="0">
                </div>

                <div class="question-group">
                    <div class="question-title">è¡€å°æ¿è®¡æ•°ï¼ˆÃ—10â¹/Lï¼‰</div>
                    <input type="number" id="sokar_plt" class="input-number" placeholder="è¾“å…¥è¡€å°æ¿" min="0">
                </div>

                <div class="question-group">
                    <div class="question-title">å¤–å‘¨è¡€åŸå§‹ç»†èƒç™¾åˆ†æ¯”ï¼ˆ%ï¼‰</div>
                    <input type="number" id="sokal_blast" class="input-number" placeholder="è¾“å…¥åŸå§‹ç»†èƒ%" min="0" max="100">
                </div>

                <button class="calculate-btn" onclick="calculateSokal()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="sokal-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="sokal-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Sokal JE, et al. Prognostic discrimination in "good-risk" chronic granulocytic leukemia. Blood. 1984.</p>
                </div>
            </div>

            <!-- EUTOSè¯„åˆ†ï¼ˆCMLï¼‰ -->
            <div id="eutos" class="scale-section" data-category="mpn">
                <h2 class="scale-title">æ…¢æ€§é«“ç³»ç™½è¡€ç—…EUTOSè¯„åˆ†</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>æ¬§æ´²å¼€å‘çš„ç®€åŒ–CMLé¢„åè¯„åˆ†ç³»ç»Ÿã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>æ…¢æ€§é«“ç³»ç™½è¡€ç—…ï¼ˆCMLï¼‰æ‚£è€…</p>
                </div>

                <div class="question-group">
                    <div class="question-title">å—œç¢±ç²’ç»†èƒç™¾åˆ†æ¯”ï¼ˆ%ï¼‰</div>
                    <input type="number" id="eutos_basophil" class="input-number" placeholder="è¾“å…¥%" min="0" max="100">
                </div>

                <div class="question-group">
                    <div class="question-title">è„¾è„å¤§å°ï¼ˆcmï¼Œè‚‹ç¼˜ä¸‹ï¼‰</div>
                    <input type="number" id="eutos_spleen" class="input-number" placeholder="è¾“å…¥è„¾è„å¤§å°" min="0">
                </div>

                <button class="calculate-btn" onclick="calculateEUTOS()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="eutos-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="eutos-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Hasford J, et al. EUTOS score for CML. J Clin Oncol. 2011.</p>
                </div>
            </div>

            <!-- ISTH DICè¯„åˆ† -->
            <div id="isth" class="scale-section" data-category="thrombosis">
                <h2 class="scale-title">ISTH DICè¯„åˆ†ç³»ç»Ÿ</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>è¯Šæ–­å¼¥æ•£æ€§è¡€ç®¡å†…å‡è¡€ï¼ˆDICï¼‰ã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>ç–‘ä¼¼DICæ‚£è€…ï¼ˆæ„ŸæŸ“ã€è‚¿ç˜¤ã€åˆ›ä¼¤ç­‰ï¼‰</p>
                </div>

                <div class="question-group">
                    <div class="question-title">è¡€å°æ¿è®¡æ•°ï¼ˆÃ—10â¹/Lï¼‰</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="isth_plt" value="0">â‰¥ 100ï¼ˆ0åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="isth_plt" value="1">< 100ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="isth_plt" value="2">< 50ï¼ˆ2åˆ†ï¼‰</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">D-äºŒèšä½“ï¼ˆæˆ–FDPï¼‰</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="isth_ddimer" value="0">æ— å‡é«˜ï¼ˆ0åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="isth_ddimer" value="2">ä¸­åº¦å‡é«˜ï¼ˆ2åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="isth_ddimer" value="3">å¼ºåº¦å‡é«˜ï¼ˆ3åˆ†ï¼‰</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">å‡è¡€é…¶åŸæ—¶é—´ï¼ˆPTï¼‰å»¶é•¿ï¼ˆç§’ï¼‰</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="isth_pt" value="0">< 3ï¼ˆ0åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="isth_pt" value="1">3 - 6ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="isth_pt" value="2">> 6ï¼ˆ2åˆ†ï¼‰</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">çº¤ç»´è›‹ç™½åŸæ°´å¹³ï¼ˆg/Lï¼‰</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="isth_fibrinogen" value="0">â‰¥ 1.0ï¼ˆ0åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="isth_fibrinogen" value="1">< 1.0ï¼ˆ1åˆ†ï¼‰</label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateISTH()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="isth-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="isth-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Taylor FB Jr, et al. Scientific Subcommittee on DIC: ISTH scoring system. J Thromb Haemost. 2001.</p>
                </div>
            </div>

            <!-- 4T'sè¯„åˆ† -->
            <div id="4t" class="scale-section" data-category="thrombosis">
                <h2 class="scale-title">4T'sè¯„åˆ†ï¼ˆè‚ç´ è¯±å¯¼çš„è¡€å°æ¿å‡å°‘ç—‡ï¼‰</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>å¿«é€Ÿè¯„ä¼°HITæ¦‚ç‡ã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>ç–‘ä¼¼è‚ç´ è¯±å¯¼çš„è¡€å°æ¿å‡å°‘ç—‡ï¼ˆHITï¼‰æ‚£è€…</p>
                </div>

                <div class="question-group">
                    <div class="question-title">è¡€å°æ¿å‡å°‘ç¨‹åº¦</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="4t_plt" value="0">ä¸‹é™< 30%æˆ–æœ€ä½å€¼< 10Ã—10â¹/Lï¼ˆ0åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="4t_plt" value="1">ä¸‹é™30-50%æˆ–æœ€ä½å€¼10-19Ã—10â¹/Lï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="4t_plt" value="2">ä¸‹é™> 50%ä¸”æœ€ä½å€¼â‰¥20Ã—10â¹/Lï¼ˆ2åˆ†ï¼‰</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">è¡€å°æ¿å‡å°‘æ—¶é—´</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="4t_time" value="0">â‰¤1å¤©ä¸”æ— è¿‘æœŸè‚ç´ æš´éœ²ï¼ˆ0åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="4t_time" value="1">> 10å¤©æˆ–æ—¶é—´ä¸æ¸…ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="4t_time" value="2">5-10å¤©æˆ–â‰¤1å¤©ï¼ˆè¿‘5-30å¤©æš´éœ²ï¼‰ï¼ˆ2åˆ†ï¼‰</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">è¡€æ “å½¢æˆ</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="4t_thrombosis" value="0">æ— ï¼ˆ0åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="4t_thrombosis" value="1">è¿›å±•æ€§/å¤å‘æ€§è¡€æ “æˆ–å¯ç–‘è¡€æ “ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="4t_thrombosis" value="2">æ–°å‘è¡€æ “ã€çš®è‚¤åæ­»æˆ–æ€¥æ€§å…¨èº«ååº”ï¼ˆ2åˆ†ï¼‰</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">å…¶ä»–åŸå› å¯¼è‡´è¡€å°æ¿å‡å°‘</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="4t_other" value="0">æ˜ç¡®æœ‰ï¼ˆ0åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="4t_other" value="1">æœ‰å¯èƒ½ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="4t_other" value="2">æ— ï¼ˆ2åˆ†ï¼‰</label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculate4T()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="4t-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="4t-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Warkentin TE, et al. The 4T's scoring system for HIT. Blood. 2003.</p>
                </div>
            </div>

            <!-- HAS-BLEDè¯„åˆ† -->
            <div id="hasbled" class="scale-section" data-category="thrombosis">
                <h2 class="scale-title">HAS-BLEDå‡ºè¡€é£é™©è¯„åˆ†</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>è¯„ä¼°æˆ¿é¢¤æ‚£è€…æŠ—å‡æ²»ç–—çš„å‡ºè¡€é£é™©ã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>æˆ¿é¢¤æ‚£è€…æŠ—å‡æ²»ç–—å‰</p>
                </div>

                <div class="question-group">
                    <div class="question-title">é£é™©å› ç´ ï¼ˆæ¯é¡¹1åˆ†ï¼‰</div>
                    <div class="option-group">
                        <label class="option-label"><input type="checkbox" id="hasbled_htn">H - é«˜è¡€å‹ï¼ˆæ”¶ç¼©å‹>160mmHgï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="hasbled_renal">A - è‚¾åŠŸèƒ½å¼‚å¸¸ï¼ˆé€æã€ç§»æ¤ã€è‚Œé…â‰¥200Î¼mol/Lï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="hasbled_liver">A - è‚åŠŸèƒ½å¼‚å¸¸ï¼ˆè‚ç¡¬åŒ–ã€èƒ†çº¢ç´ >2Ã—æ­£å¸¸ä¸Šé™ç­‰ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="hasbled_stroke">S - å’ä¸­å²</label>
                        <label class="option-label"><input type="checkbox" id="hasbled_bleeding">B - å‡ºè¡€å²æˆ–å‡ºè¡€å€¾å‘</label>
                        <label class="option-label"><input type="checkbox" id="hasbled_inr">L - INRä¸ç¨³å®šï¼ˆæ³¢åŠ¨å¤§/æ²»ç–—çª—æ—¶é—´<60%ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="hasbled_age">E - å¹´é¾„>65å²</label>
                        <label class="option-label"><input type="checkbox" id="hasbled_drugs">D - è¯ç‰©/é…’ç²¾ï¼ˆåˆç”¨æŠ—è¡€å°æ¿è¯ã€NSAIDsï¼›é…—é…’ï¼‰</label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateHASBLED()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="hasbled-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="hasbled-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Pisters R, et al. HAS-BLED bleeding risk score. Chest. 2010.</p>
                </div>
            </div>

            <!-- Wellsè¯„åˆ†ï¼ˆDVT/PEï¼‰ -->
            <div id="wells" class="scale-section" data-category="thrombosis">
                <h2 class="scale-title">Wellsè¯„åˆ†ï¼ˆæ·±é™è„‰è¡€æ “/è‚ºæ “å¡ï¼‰</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>å¿«é€Ÿè¯„ä¼°DVT/PEæ¦‚ç‡ã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>ç–‘ä¼¼æ·±é™è„‰è¡€æ “ï¼ˆDVTï¼‰æˆ–è‚ºæ “å¡ï¼ˆPEï¼‰æ‚£è€…</p>
                </div>

                <div class="question-group">
                    <div class="question-title">DVT/PEé£é™©å› ç´ ï¼ˆWellsè¯„åˆ†ï¼‰</div>
                    <div class="option-group">
                        <label class="option-label"><input type="checkbox" id="wells_cancer">æ´»åŠ¨æ€§ç™Œç—‡ï¼ˆ1.5åˆ†ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="wells_paralysis">DVTç—‡çŠ¶ï¼ˆä¸‹è‚¢å…¨è…¿è‚¿èƒ€ç­‰ï¼‰ï¼ˆ1.5åˆ†ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="wells_bedridden">æ²¿æ·±é™è„‰å¾„è·¯å±€éƒ¨å‹ç—›ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="wells_localtenderness">å…¨è‚¢æ°´è‚¿ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="wells_entireswelling">å°è…¿å‘¨å¾„æ¯”å¯¹ä¾§å¤§>3cmï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="wells_calftime">ä¾§æ”¯æµ…é™è„‰ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="wells_collateral">æ—¢å¾€DVT/PEå²ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="wells_history">å’¯è¡€ï¼ˆPEï¼‰ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="wells_hemoptysis">å¿ƒç‡>100æ¬¡/åˆ†ï¼ˆPEï¼‰ï¼ˆ1.5åˆ†ï¼‰</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">å…¶ä»–è¯Šæ–­å¯èƒ½æ€§</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="wells_alternative" value="no">å…¶ä»–è¯Šæ–­å¯èƒ½æ€§ä¸å¤§æˆ–ä¸ä½äºDVT/PEï¼ˆ0åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="wells_alternative" value="yes">å…¶ä»–è¯Šæ–­å¯èƒ½æ€§æ›´å¤§ï¼ˆ-2åˆ†ï¼‰</label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateWells()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="wells-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="wells-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Wells PS, et al. Evaluation of DVT. Lancet. 1997; Wells PS, et al. Evaluation of PE. Thromb Haemost. 2000.</p>
                </div>
            </div>

            <!-- Paduaè¯„åˆ† -->
            <div id="padua" class="scale-section" data-category="thrombosis">
                <h2 class="scale-title">Paduaè¯„åˆ†ï¼ˆå†…ç§‘ä½é™¢æ‚£è€…VTEé£é™©ï¼‰</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>è¯„ä¼°å†…ç§‘ä½é™¢æ‚£è€…çš„é™è„‰è¡€æ “æ “å¡ç—‡ï¼ˆVTEï¼‰é£é™©ã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>å†…ç§‘ä½é™¢æ‚£è€…</p>
                </div>

                <div class="question-group">
                    <div class="question-title">é£é™©å› ç´ </div>
                    <div class="option-group">
                        <label class="option-label"><input type="checkbox" id="padua_cancer">æ´»åŠ¨æ€§ç™Œç—‡ï¼ˆ3åˆ†ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="padua_history">æ—¢å¾€VTEå²ï¼ˆ3åˆ†ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="padua_reduced">æ´»åŠ¨æ€§é™ä½ï¼ˆå§åºŠ/åˆ¶åŠ¨â‰¥3å¤©ï¼‰ï¼ˆ3åˆ†ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="padua_highrisk">é«˜è¡€æ “é£é™©ç–¾ç—…ï¼ˆ3åˆ†ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="padua_age">å¹´é¾„â‰¥70å²ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="padua_heart">å¿ƒè¡°å’Œ/æˆ–å‘¼å¸è¡°ç«­ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="padua_mi">æ€¥æ€§å¿ƒæ¢—/ç¼ºè¡€æ€§å’ä¸­ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="padua_obesity">è‚¥èƒ–ï¼ˆBMIâ‰¥30ï¼‰ï¼ˆ1åˆ†ï¼‰</label>
                        <label class="option-label"><input type="checkbox" id="padua_hormones">æ­£åœ¨è¿›è¡Œæ¿€ç´ æ²»ç–—ï¼ˆ1åˆ†ï¼‰</label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculatePadua()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="padua-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="padua-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Barbar S, et al. Padua prediction score. J Thromb Haemost. 2010.</p>
                </div>
            </div>

            <!-- HCT-CIè¯„åˆ† -->
            <div id="hctci" class="scale-section" data-category="other">
                <h2 class="scale-title">é€ è¡€å¹²ç»†èƒç§»æ¤åˆå¹¶ç—‡æŒ‡æ•° (HCT-CI)</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>è¯„ä¼°ç§»æ¤å‰åˆå¹¶ç—‡ï¼Œé¢„æµ‹ç§»æ¤åéå¤å‘æ­»äº¡ç‡ã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>æ‹Ÿè¡Œé€ è¡€å¹²ç»†èƒç§»æ¤çš„æ‚£è€…</p>
                </div>

                <div class="info-box">
                    è¯·æ ¹æ®åˆå¹¶ç—‡çš„ä¸¥é‡ç¨‹åº¦è¯„åˆ†ï¼šæ¯é¡¹åˆå¹¶ç—‡æ ¹æ®ä¸¥é‡ç¨‹åº¦è¯„1-3åˆ†ã€‚æ­¤å¤„æä¾›ç®€åŒ–ç‰ˆæœ¬ã€‚
                </div>

                <div class="question-group">
                    <div class="question-title">å¸¸è§åˆå¹¶ç—‡ï¼ˆé€‰æ‹©å­˜åœ¨çš„é¡¹ç›®ï¼‰</div>
                    <div class="option-group">
                        <label class="option-label"><input type="checkbox" class="hctci-item">å† å¿ƒç—…</label>
                        <label class="option-label"><input type="checkbox" class="hctci-item">å……è¡€æ€§å¿ƒåŠ›è¡°ç«­</label>
                        <label class="option-label"><input type="checkbox" class="hctci-item">å¿ƒå¾‹å¤±å¸¸</label>
                        <label class="option-label"><input type="checkbox" class="hctci-item">è‚ºç–¾ç—…ï¼ˆCOPDã€è‚ºçº¤ç»´åŒ–ç­‰ï¼‰</label>
                        <label class="option-label"><input type="checkbox" class="hctci-item">è‚ç—…ï¼ˆè‚ç¡¬åŒ–ã€è‚ç‚ï¼‰</label>
                        <label class="option-label"><input type="checkbox" class="hctci-item">è‚¾åŠŸèƒ½ä¸å…¨ï¼ˆè‚Œé…æ¸…é™¤ç‡<40ml/minï¼‰</label>
                        <label class="option-label"><input type="checkbox" class="hctci-item">ç³–å°¿ç—…</label>
                        <label class="option-label"><input type="checkbox" class="hctci-item">æ—¢å¾€å®ä½“è‚¿ç˜¤å²</label>
                        <label class="option-label"><input type="checkbox" class="hctci-item">ä¸¥é‡é£æ¹¿æ€§ç–¾ç—…</label>
                        <label class="option-label"><input type="checkbox" class="hctci-item">ä¸¥é‡ç¥ç»ç³»ç»Ÿç–¾ç—…</label>
                        <label class="option-label"><input type="checkbox" class="hctci-item">ç²¾ç¥ç–¾ç—…</label>
                        <label class="option-label"><input type="checkbox" class="hctci-item">KPS < 90%</label>
                        <label class="option-label"><input type="checkbox" class="hctci-item">æ—¢å¾€å¹²ç»†èƒç§»æ¤å²</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">ä¼°ç®—æ€»åˆ†</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="hctci_score" value="0">0åˆ†</label>
                        <label class="option-label"><input type="radio" name="hctci_score" value="1-2">1-2åˆ†</label>
                        <label class="option-label"><input type="radio" name="hctci_score" value="3-4">3-4åˆ†</label>
                        <label class="option-label"><input type="radio" name="hctci_score" value="5plus">â‰¥5åˆ†</label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateHCTCI()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="hctci-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="hctci-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Sorror ML, et al. Hematopoietic cell transplantation comorbidity index. Clin Cancer Res. 2005.</p>
                </div>
            </div>

            <!-- NRS2002è¥å…»é£é™©ç­›æŸ¥ -->
            <div id="nrs2002" class="scale-section" data-category="other">
                <h2 class="scale-title">è¥å…»é£é™©ç­›æŸ¥2002 (NRS2002)</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>ç­›æŸ¥ä½é™¢æ‚£è€…çš„è¥å…»é£é™©ã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>ä½é™¢æ‚£è€…ï¼ˆåŒ…æ‹¬è¡€æ¶²è‚¿ç˜¤æ‚£è€…ï¼‰</p>
                </div>

                <div class="question-group">
                    <div class="question-title">1. è¥å…»å—æŸçŠ¶å†µ</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="nrs2002_nutri" value="0">æ­£å¸¸ï¼ˆ0åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="nrs2002_nutri" value="1">è½»åº¦ï¼ˆ1åˆ†ï¼‰ï¼š3ä¸ªæœˆå†…ä½“é‡ä¸¢å¤±>5%æˆ–å‰1å‘¨è¿›é£Ÿé‡ä¸ºæ­£å¸¸éœ€è¦é‡çš„50-75%</label>
                        <label class="option-label"><input type="radio" name="nrs2002_nutri" value="2">ä¸­åº¦ï¼ˆ2åˆ†ï¼‰ï¼š2ä¸ªæœˆå†…ä½“é‡ä¸¢å¤±>5%æˆ–BMI 18.5-20.5+ä¸€èˆ¬æƒ…å†µå·®æˆ–å‰1å‘¨è¿›é£Ÿé‡ä¸º25-60%</label>
                        <label class="option-label"><input type="radio" name="nrs2002_nutri" value="3">é‡åº¦ï¼ˆ3åˆ†ï¼‰ï¼š1ä¸ªæœˆå†…ä½“é‡ä¸¢å¤±>5%ï¼ˆ3ä¸ªæœˆå†…>15%ï¼‰æˆ–BMI<18.5+ä¸€èˆ¬æƒ…å†µå·®æˆ–å‰1å‘¨è¿›é£Ÿé‡ä¸º0-25%</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">2. ç–¾ç—…ä¸¥é‡ç¨‹åº¦</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="nrs2002_disease" value="0">æ­£å¸¸ï¼ˆ0åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="nrs2002_disease" value="1">è½»åº¦ï¼ˆ1åˆ†ï¼‰ï¼šé«‹éª¨éª¨æŠ˜ã€æ…¢æ€§ç–¾ç—…ã€ç³–å°¿ç—…ã€è‚¿ç˜¤</label>
                        <label class="option-label"><input type="radio" name="nrs2002_disease" value="2">ä¸­åº¦ï¼ˆ2åˆ†ï¼‰ï¼šè…¹éƒ¨å¤§æ‰‹æœ¯ã€å’ä¸­ã€é‡ç—‡è‚ºç‚ã€è¡€æ¶²æ¶æ€§è‚¿ç˜¤</label>
                        <label class="option-label"><input type="radio" name="nrs2002_disease" value="3">é‡åº¦ï¼ˆ3åˆ†ï¼‰ï¼šé¢…è„‘æŸä¼¤ã€éª¨é«“ç§»æ¤ã€ICUæ‚£è€…ï¼ˆAPACHE>10ï¼‰</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">3. å¹´é¾„</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="nrs2002_age" value="0">< 70å²ï¼ˆ0åˆ†ï¼‰</label>
                        <label class="option-label"><input type="radio" name="nrs2002_age" value="1">â‰¥ 70å²ï¼ˆ+1åˆ†ï¼‰</label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateNRS2002()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="nrs2002-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="nrs2002-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Kondrup J, et al. Nutritional Risk Screening (NRS 2002). Clin Nutr. 2003.</p>
                </div>
            </div>

            <!-- ç–¼ç—›NRSè¯„åˆ† -->
            <div id="nrs" class="scale-section" data-category="general">
                <h2 class="scale-title">ç–¼ç—›æ•°å­—è¯„åˆ†æ³• (Numeric Rating Scale, NRS)</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>å¿«é€Ÿè¯„ä¼°æ‚£è€…ç–¼ç—›ç¨‹åº¦å’Œæ²»ç–—æ•ˆæœã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>æ‰€æœ‰ç™Œç—‡æ‚£è€…</p>
                </div>

                <div class="question-group">
                    <div class="question-title">è¯·é€‰æ‹©æ‚£è€…å½“å‰ç–¼ç—›ç¨‹åº¦ï¼ˆ0-10åˆ†ï¼‰</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="nrs_pain" value="0"><strong>0åˆ†</strong> - æ— ç—›</label>
                        <label class="option-label"><input type="radio" name="nrs_pain" value="1"><strong>1-3åˆ†</strong> - è½»åº¦ç–¼ç—›ï¼ˆä¸å½±å“ç¡çœ ï¼‰</label>
                        <label class="option-label"><input type="radio" name="nrs_pain" value="4"><strong>4-6åˆ†</strong> - ä¸­åº¦ç–¼ç—›ï¼ˆå½±å“ç¡çœ ï¼‰</label>
                        <label class="option-label"><input type="radio" name="nrs_pain" value="7"><strong>7-10åˆ†</strong> - é‡åº¦ç–¼ç—›ï¼ˆä¸¥é‡å½±å“ç¡çœ ï¼‰</label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateNRS_Pain()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="nrs-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="nrs-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Caraceni A, et al. Use of cancer pain registries in clinical practice. J Pain Symptom Manage. 2018.</p>
                </div>
            </div>

            <!-- HADSé‡è¡¨ -->
            <div id="hads" class="scale-section" data-category="general">
                <h2 class="scale-title">åŒ»é™¢ç„¦è™‘æŠ‘éƒé‡è¡¨ (HADS)</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>ç­›æŸ¥ç™Œç—‡æ‚£è€…çš„ç„¦è™‘å’ŒæŠ‘éƒç—‡çŠ¶ã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>ç»¼åˆåŒ»é™¢èº¯ä½“ç–¾ç—…æ‚£è€…</p>
                </div>

                <div class="info-box">
                    <strong>è¯´æ˜ï¼š</strong>ç”±äºHADSåŒ…å«14ä¸ªé—®é¢˜ï¼Œæ­¤å¤„æä¾›ç®€åŒ–ç‰ˆã€‚å»ºè®®ä½¿ç”¨ä¸“ä¸šHADSé‡è¡¨æˆ–HADSåº”ç”¨ç¨‹åºè¿›è¡Œå®Œæ•´è¯„ä¼°ã€‚
                </div>

                <div class="question-group">
                    <div class="question-title">ç„¦è™‘ç—‡çŠ¶è¯„ä¼°</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="hads_anxiety" value="0">æ­£å¸¸ï¼ˆ0-7åˆ†ï¼‰ï¼šæ— æ˜æ˜¾ç„¦è™‘ç—‡çŠ¶</label>
                        <label class="option-label"><input type="radio" name="hads_anxiety" value="1">è½»åº¦ï¼ˆ8-10åˆ†ï¼‰ï¼šè½»åº¦ç„¦è™‘ç—‡çŠ¶</label>
                        <label class="option-label"><input type="radio" name="hads_anxiety" value="2">ä¸­åº¦ï¼ˆ11-14åˆ†ï¼‰ï¼šä¸­åº¦ç„¦è™‘ç—‡çŠ¶</label>
                        <label class="option-label"><input type="radio" name="hads_anxiety" value="3">é‡åº¦ï¼ˆ15-21åˆ†ï¼‰ï¼šé‡åº¦ç„¦è™‘ç—‡çŠ¶</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">æŠ‘éƒç—‡çŠ¶è¯„ä¼°</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="hads_depression" value="0">æ­£å¸¸ï¼ˆ0-7åˆ†ï¼‰ï¼šæ— æ˜æ˜¾æŠ‘éƒç—‡çŠ¶</label>
                        <label class="option-label"><input type="radio" name="hads_depression" value="1">è½»åº¦ï¼ˆ8-10åˆ†ï¼‰ï¼šè½»åº¦æŠ‘éƒç—‡çŠ¶</label>
                        <label class="option-label"><input type="radio" name="hads_depression" value="2">ä¸­åº¦ï¼ˆ11-14åˆ†ï¼‰ï¼šä¸­åº¦æŠ‘éƒç—‡çŠ¶</label>
                        <label class="option-label"><input type="radio" name="hads_depression" value="3">é‡åº¦ï¼ˆ15-21åˆ†ï¼‰ï¼šé‡åº¦æŠ‘éƒç—‡çŠ¶</label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateHADS_Simple()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="hads-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="hads-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Zigmond AS, Snaith RP. The hospital anxiety and depression scale. Acta Psychiatr Scand. 1983.</p>
                </div>
            </div>

            <!-- CLL Binetåˆ†æœŸ -->
            <div id="binet" class="scale-section" data-category="lymphoma">
                <h2 class="scale-title">æ…¢æ€§æ·‹å·´ç»†èƒç™½è¡€ç—… Binetåˆ†æœŸ</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>è¯„ä¼°CLLæ‚£è€…çš„ç–¾ç—…åˆ†æœŸå’Œé¢„åã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>æ…¢æ€§æ·‹å·´ç»†èƒç™½è¡€ç—…æ‚£è€…</p>
                </div>

                <div class="question-group">
                    <div class="question-title">è¡€çº¢è›‹ç™½æ°´å¹³ (g/L)</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="binet_hb" value="normal">â‰¥ 100ï¼ˆæ­£å¸¸ï¼‰</label>
                        <label class="option-label"><input type="radio" name="binet_hb" value="low">< 100ï¼ˆé™ä½ï¼‰</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">è¡€å°æ¿è®¡æ•° (Ã—10â¹/L)</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="binet_plt" value="normal">â‰¥ 100ï¼ˆæ­£å¸¸ï¼‰</label>
                        <label class="option-label"><input type="radio" name="binet_plt" value="low">< 100ï¼ˆé™ä½ï¼‰</label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">å—ç´¯æ·‹å·´ç»“åŒºåŸŸæ•°</div>
                    <div class="option-group">
                        <label class="option-label"><input type="radio" name="binet_nodes" value="0-2">0-2ä¸ªåŒºåŸŸ</label>
                        <label class="option-label"><input type="radio" name="binet_nodes" value="3plus">â‰¥ 3ä¸ªåŒºåŸŸ</label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateBinet()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="binet-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="binet-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Binet JL, et al. Chronic lymphocytic leukemia: clinical staging and prognosis. Blood. 1977.</p>
                </div>
            </div>

            <!-- CLL-IPIè¯„åˆ† -->
            <div id="cllipi" class="scale-section" data-category="lymphoma">
                <h2 class="scale-title">CLLå›½é™…é¢„åæŒ‡æ•° (CLL-IPI)</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>è¯„ä¼°æ…¢æ€§æ·‹å·´ç»†èƒç™½è¡€ç—…(CLL)æ‚£è€…çš„é¢„åï¼Œç»“åˆäº†ä¸´åºŠã€ç”ŸåŒ–å’Œåˆ†å­å­¦æ ‡å¿—ç‰©ã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>æ…¢æ€§æ·‹å·´ç»†èƒç™½è¡€ç—…(CLL)æ‚£è€…</p>
                </div>

                <div class="info-box">
                    <strong>æç¤ºï¼š</strong>CLL-IPIè¯„åˆ†ç³»ç»Ÿæ•´åˆäº†5ä¸ªç‹¬ç«‹çš„é¢„åå› ç´ ï¼Œæ¯ä¸ªå› ç´ 1åˆ†ã€‚é€‰æ‹©æ‰€æœ‰é€‚ç”¨çš„é£é™©å› ç´ ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨è®¡ç®—æ€»åˆ†å¹¶è¿›è¡Œå±é™©åº¦åˆ†å±‚ã€‚
                </div>

                <div class="question-group">
                    <div class="question-title">é£é™©å› ç´ ï¼ˆæ¯é¡¹1åˆ†ï¼‰</div>
                    <div class="option-group">
                        <label class="option-label">
                            <input type="checkbox" id="cllipi_tp53">
                            TP53å¼‚å¸¸ï¼ˆç¼ºå¤±æˆ–çªå˜ï¼Œ17pç¼ºå¤±æˆ–TP53çªå˜ï¼‰
                        </label>
                        <label class="option-label">
                            <input type="checkbox" id="cllipi_ighv">
                            IGHVæœªçªå˜çŠ¶æ€
                        </label>
                        <label class="option-label">
                            <input type="checkbox" id="cllipi_beta2">
                            è¡€æ¸…Î²2å¾®çƒè›‹ç™½ > 3.5 mg/L
                        </label>
                        <label class="option-label">
                            <input type="checkbox" id="cllipi_stage">
                            ä¸´åºŠåˆ†æœŸ Rai II-IVæœŸæˆ– Binet B-CæœŸ
                        </label>
                        <label class="option-label">
                            <input type="checkbox" id="cllipi_age">
                            å¹´é¾„ > 65å²
                        </label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateCLLIPI()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="cllipi-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="cllipi-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Rossi D, et al. International CLL-IPI working group. A new prognostic score for CLL. Blood. 2016.</p>
                </div>
            </div>

            <!-- CAR-T CRSåˆ†çº§ -->
            <div id="carstcrs" class="scale-section" data-category="car-t">
                <h2 class="scale-title">CAR-Tç»†èƒå› å­é£æš´åˆ†çº§ (ASTCT 2019)</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>è¯„ä¼°CAR-Tæ²»ç–—åç»†èƒå› å­é‡Šæ”¾ç»¼åˆå¾(CRS)çš„ä¸¥é‡ç¨‹åº¦ã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>æ¥å—CAR-Tç»†èƒæ²»ç–—çš„æ‚£è€…</p>
                </div>

                <div class="info-box">
                    <strong>å…³é”®æ ‡å‡†ï¼š</strong>CRSåˆ†çº§ä¸»è¦ä¾æ®å‘çƒ­å’Œä½è¡€å‹æƒ…å†µï¼Œéœ€è¦æ’é™¤å…¶ä»–åŸå› ï¼ˆå¦‚æ„ŸæŸ“ã€è‚¿ç˜¤çƒ­ç­‰ï¼‰ã€‚
                </div>

                <div class="question-group">
                    <div class="question-title">1. å‘çƒ­æƒ…å†µ</div>
                    <div class="option-group">
                        <label class="option-label">
                            <input type="radio" name="crs_fever" value="no">
                            æ— å‘çƒ­ï¼ˆä½“æ¸© â‰¤ 38Â°Cï¼‰
                        </label>
                        <label class="option-label">
                            <input type="radio" name="crs_fever" value="yes">
                            æœ‰å‘çƒ­ï¼ˆä½“æ¸© â‰¥ 38Â°Cï¼‰
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">2. ä½è¡€å‹æƒ…å†µ</div>
                    <div class="input-group">
                        <div class="option-group">
                            <label class="option-label">
                                <input type="radio" name="crs_bp" value="0">
                                æ— ä½è¡€å‹
                            </label>
                            <label class="option-label">
                                <input type="radio" name="crs_bp" value="1">
                                ä½è¡€å‹ï¼ˆæ— éœ€å‡å‹è¯ï¼‰<span class="normal-range">SBP < 90mmHg æˆ– MAP < 60mmHg</span>
                            </label>
                            <label class="option-label">
                                <input type="radio" name="crs_bp" value="2">
                                éœ€ä¸€ç§å‡å‹è¯ï¼ˆé™¤å¤–è¡€ç®¡åŠ å‹ç´ ï¼‰
                            </label>
                            <label class="option-label">
                                <input type="radio" name="crs_bp" value="3">
                                éœ€å¤šç§å‡å‹è¯
                            </label>
                            <label class="option-label">
                                <input type="radio" name="crs_bp" value="4">
                                å±åŠç”Ÿå‘½çš„ä½è¡€å‹
                            </label>
                        </div>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">3. æ˜¯å¦éœ€è¦æ°§ç–—?</div>
                    <div class="option-group">
                        <label class="option-label">
                            <input type="radio" name="crs_oxygen" value="no">
                            å¦ï¼ˆSpO2 â‰¥ 90%åœ¨å®¤å†…ç©ºæ°”ä¸‹ï¼‰
                        </label>
                        <label class="option-label">
                            <input type="radio" name="crs_oxygen" value="yes">
                            æ˜¯ï¼ˆéœ€è¦ä½æµé‡å¸æ°§ï¼‰
                        </label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateCARSCRS()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="carstcrs-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="carstcrs-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Lee DW, et al. ASTCT consensus grading for cytokine release syndrome and neurotoxicity. Biol Blood Marrow Transplant. 2019.</p>
                </div>
            </div>

            <!-- CAR-T ICANSåˆ†çº§ -->
            <div id="carsticans" class="scale-section" data-category="car-t">
                <h2 class="scale-title">CAR-Tå…ç–«æ•ˆåº”ç»†èƒç›¸å…³ç¥ç»æ¯’æ€§åˆ†çº§ (ICANS 2019)</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>è¯„ä¼°CAR-Tæ²»ç–—åç¥ç»æ¯’æ€§(ICANS)çš„ä¸¥é‡ç¨‹åº¦ã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>æ¥å—CAR-Tç»†èƒæ²»ç–—çš„æ‚£è€…</p>
                </div>

                <div class="info-box">
                    <strong>è¯„ä¼°å·¥å…·ï¼š</strong>ICANSè¯„ä¼°åŒ…æ‹¬å…ç–«æ•ˆåº”ç»†èƒç›¸å…³è„‘ç—…(ICE)è¯„åˆ†ã€æ„è¯†æ°´å¹³ã€è¿åŠ¨åŠŸèƒ½ã€è¯­è¨€åŠŸèƒ½ç­‰å¤šä¸ªç»´åº¦ã€‚
                </div>

                <div class="question-group">
                    <div class="question-title">å…ç–«æ•ˆåº”ç»†èƒç›¸å…³è„‘ç—…(ICE)è¯„åˆ† - æœ€é«˜10åˆ†ï¼Œæ¯é¡¹æ­£å¸¸å¾—1åˆ†</div>
                    <div class="option-group">
                        <div style="padding: 10px; background: white; border-radius: 5px; margin-bottom: 10px;">
                            <strong>1. å®šå‘åŠ›ï¼ˆæœ€å¤š4åˆ†ï¼‰</strong>
                            <div style="margin-left: 20px;">
                                <label class="option-label"><input type="checkbox" id="ice_year">çŸ¥é“å½“å‰å¹´ä»½</label>
                                <label class="option-label"><input type="checkbox" id="ice_month">çŸ¥é“å½“å‰æœˆä»½</label>
                                <label class="option-label"><input type="checkbox" id="ice_day">çŸ¥é“å½“å‰æ—¥æœŸ</label>
                                <label class="option-label"><input type="checkbox" id="ice_city">çŸ¥é“è‡ªå·±æ‰€åœ¨åŸå¸‚</label>
                                <label class="option-label"><input type="checkbox" id="ice_hospital">çŸ¥é“è‡ªå·±æ‰€åœ¨åŒ»é™¢</label>
                            </div>
                        </div>
                        <div style="padding: 10px; background: white; border-radius: 5px; margin-bottom: 10px;">
                            <strong>2. å‘½åèƒ½åŠ›ï¼ˆæœ€å¤š3åˆ†ï¼‰</strong> - è¯·æ‚£è€…å‘½å3ä¸ªå¸¸è§ç‰©ä½“
                            <div class="input-hint">ä¾‹å¦‚ï¼šæ‰‹è¡¨ã€ç¬”ã€æ¡Œå­ï¼ˆæ¯ç­”å¯¹1ä¸ªå¾—1åˆ†ï¼‰</div>
                            <div class="input-group">
                                <span class="input-label">ç­”å¯¹æ•°é‡ï¼š</span>
                                <select id="ice_naming" class="input-number">
                                    <option value="">è¯·é€‰æ‹©</option>
                                    <option value="0">0ä¸ª</option>
                                    <option value="1">1ä¸ª</option>
                                    <option value="2">2ä¸ª</option>
                                    <option value="3">3ä¸ª</option>
                                </select>
                            </div>
                        </div>
                        <div style="padding: 10px; background: white; border-radius: 5px; margin-bottom: 10px;">
                            <strong>3. éµä»æŒ‡ä»¤ï¼ˆæœ€å¤š1åˆ†ï¼‰</strong>
                            <div style="margin-left: 20px;">
                                <label class="option-label"><input type="checkbox" id="ice_commands">èƒ½å®Œæˆ"ä¸¾èµ·åŒæ‰‹"ã€"æ¡æ‹³"ç­‰æŒ‡ä»¤</label>
                            </div>
                        </div>
                        <div style="padding: 10px; background: white; border-radius: 5px; margin-bottom: 10px;">
                            <strong>4. ä¹¦å†™èƒ½åŠ›ï¼ˆæœ€å¤š1åˆ†ï¼‰</strong>
                            <div class="input-hint">è®©æ‚£è€…å†™ä¸€å¥å®Œæ•´çš„å¥å­</div>
                            <div style="margin-left: 20px;">
                                <label class="option-label"><input type="radio" name="ice_writing" value="1">æ­£å¸¸</label>
                                <label class="option-label"><input type="radio" name="ice_writing" value="0">å¼‚å¸¸æˆ–æ— æ³•å®Œæˆ</label>
                            </div>
                        </div>
                        <div style="padding: 10px; background: white; border-radius: 5px;">
                            <strong>5. æ³¨æ„åŠ›ï¼ˆæœ€å¤š1åˆ†ï¼‰</strong>
                            <div class="input-hint">è¿ç»­è¯´å‡ºæœˆä»½å€’åºï¼ˆä»12æœˆåˆ°1æœˆï¼‰æˆ–æ•°å­—å€’åºï¼ˆä»20åˆ°1ï¼‰</div>
                            <div style="margin-left: 20px;">
                                <label class="option-label"><input type="radio" name="ice_attention" value="1">èƒ½å®Œæˆä¸”æ— é”™è¯¯</label>
                                <label class="option-label"><input type="radio" name="ice_attention" value="0">æ— æ³•å®Œæˆæˆ–æœ‰é”™è¯¯</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">æ„è¯†æ°´å¹³</div>
                    <div class="option-group">
                        <label class="option-label">
                            <input type="radio" name="icans_loc" value="0">
                            æ¸…é†’
                        </label>
                        <label class="option-label">
                            <input type="radio" name="icans_loc" value="1">
                            å—œç¡ï¼ˆèƒ½è¢«å”¤é†’å¹¶åº”ç­”ï¼‰
                        </label>
                        <label class="option-label">
                            <input type="radio" name="icans_loc" value="2">
                            æ˜ç¡ï¼ˆå¼ºåˆºæ¿€å¯å”¤é†’ï¼Œåº”ç­”ä¸æ°å½“ï¼‰
                        </label>
                        <label class="option-label">
                            <input type="radio" name="icans_loc" value="3">
                            æ˜è¿·ï¼ˆå³ä½¿å¼ºåˆºæ¿€ä¹Ÿæ— åº”ç­”ï¼‰
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">è¿åŠ¨åŠŸèƒ½</div>
                    <div class="option-group">
                        <label class="option-label">
                            <input type="radio" name="icans_motor" value="0">
                            æ­£å¸¸
                        </label>
                        <label class="option-label">
                            <input type="radio" name="icans_motor" value="1">
                            å±€ç¶æ€§æ— åŠ›ï¼ˆå¦‚å•ç˜«ã€åç˜«ï¼‰
                        </label>
                        <label class="option-label">
                            <input type="radio" name="icans_motor" value="2">
                            æ— æ³•å®ŒæˆæŒ‡ä»¤æ€§åŠ¨ä½œä½†ä¸ä¼´å±€ç¶æ€§æ— åŠ›
                        </label>
                        <label class="option-label">
                            <input type="radio" name="icans_motor" value="3">
                            æ— ååº”/æ— åå°„
                        </label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateICANS()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="carsticans-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="carsticans-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Lee DW, et al. ASTCT consensus grading for cytokine release syndrome and neurotoxicity. Biol Blood Marrow Transplant. 2019.</p>
                </div>
            </div>

            <!-- AML ELN 2022é¢„ååˆ†å±‚ -->
            <div id="amleln2022" class="scale-section" data-category="aml">
                <h2 class="scale-title">AMLé¢„ååˆ†å±‚ (ELN 2022)</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>æ ¹æ®ç»†èƒé—ä¼ å­¦å’Œåˆ†å­å­¦å¼‚å¸¸å¯¹æ€¥æ€§é«“ç³»ç™½è¡€ç—…(AML)è¿›è¡Œé£é™©åˆ†å±‚ï¼ŒæŒ‡å¯¼æ²»ç–—å†³ç­–ã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>æ–°è¯Šæ–­çš„AMLæ‚£è€…ï¼ˆéAPLï¼‰</p>
                </div>

                <div class="info-box">
                    <strong>é‡è¦æç¤ºï¼š</strong>ELN 2022æ›´æ–°äº†å¤šä¸ªåŸºå› å¼‚å¸¸çš„åˆ†å±‚æ ‡å‡†ï¼ŒåŒ…æ‹¬NPM1ã€FLT3-ITDç­‰ã€‚è¯·æ ¹æ®å®Œæ•´çš„åŸºå› æ£€æµ‹æŠ¥å‘Šé€‰æ‹©æ‰€æœ‰å­˜åœ¨çš„å¼‚å¸¸ã€‚
                </div>

                <div class="question-group">
                    <div class="question-title">ç»†èƒé—ä¼ å­¦/åˆ†å­å­¦å¼‚å¸¸</div>
                    <div class="option-group">
                        <div style="padding: 10px; background: #fff3cd; border-radius: 5px; margin-bottom: 10px;">
                            <strong style="color: #856404;">é¢„åè‰¯å¥½å¼‚å¸¸ï¼š</strong>
                            <label class="option-label"><input type="checkbox" id="aml_favor1">t(8;21)(q22;q22);RUNX1::RUNX1T1</label>
                            <label class="option-label"><input type="checkbox" id="aml_favor2">inv(16)(p13.1q22)æˆ–t(16;16)(p13.1;q22);CBFB::MYH11</label>
                            <label class="option-label"><input type="checkbox" id="aml_favor3">t(15;17)(q24;q21);PML::RARAï¼ˆæ€¥æ€§æ—©å¹¼ç²’ç»†èƒç™½è¡€ç—…ï¼‰</label>
                            <label class="option-label"><input type="checkbox" id="aml_favor4">NPM1 çªå˜ï¼ˆä¸”æ— FLT3-ITDæˆ–FLT3-ITDä½ç­‰ä½åŸºå› æ¯”ä¾‹ï¼‰</label>
                            <label class="option-label"><input type="checkbox" id="aml_favor5">CEBPA åŒç­‰ä½åŸºå› çªå˜</label>
                        </div>

                        <div style="padding: 10px; background: #f8d7da; border-radius: 5px; margin-bottom: 10px;">
                            <strong style="color: #721c24;">é¢„åä¸è‰¯å¼‚å¸¸ï¼š</strong>
                            <label class="option-label"><input type="checkbox" id="aml_adverse1">å¤æ‚æ ¸å‹ï¼ˆâ‰¥3ä¸ªæŸ“è‰²ä½“å¼‚å¸¸ï¼‰</label>
                            <label class="option-label"><input type="checkbox" id="aml_adverse2">å•ä½“æ ¸å‹</label>
                            <label class="option-label"><input type="checkbox" id="aml_adverse3">-5æˆ–del(5q)</label>
                            <label class="option-label"><input type="checkbox" id="aml_adverse4">-7</label>
                            <label class="option-label"><input type="checkbox" id="aml_adverse5">t(6;9)(p23;q34.1);DEK::NUP214</label>
                            <label class="option-label"><input type="checkbox" id="aml_adverse6">t(v;11q23.3);KMT2Aé‡æ’</label>
                            <label class="option-label"><input type="checkbox" id="aml_adverse7">t(9;22)(q34.1;q11.2);BCR::ABL1</label>
                            <label class="option-label"><input type="checkbox" id="aml_adverse8">TP53 çªå˜</label>
                            <label class="option-label"><input type="checkbox" id="aml_adverse9">FLT3-ITD é«˜ç­‰ä½åŸºå› æ¯”ä¾‹ï¼ˆçªå˜ç­‰ä½åŸºå› é¢‘ç‡>0.5ï¼‰</label>
                            <label class="option-label"><input type="checkbox" id="aml_adverse10">ASXL1 çªå˜</label>
                            <label class="option-label"><input type="checkbox" id="aml_adverse11">BCOR çªå˜</label>
                            <label class="option-label"><input type="checkbox" id="aml_adverse12">RUNX1 çªå˜</label>
                        </div>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateAMLELN2022()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="amleln2022-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="amleln2022-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>DÃ¶hner H, et al. Diagnosis and management of AML in adults: 2022 ELN recommendations. Blood. 2022.</p>
                </div>
            </div>

            <!-- IPSS-Måˆ†å­è¯„åˆ† -->
            <div id="ipssm" class="scale-section" data-category="mds">
                <h2 class="scale-title">MDSåˆ†å­é¢„åè¯„åˆ†ç³»ç»Ÿ (IPSS-M, 2022)</h2>
                <div class="scale-description">
                    <p><strong>ç”¨é€”ï¼š</strong>æ•´åˆä¸´åºŠç—…ç†å­¦å’Œåˆ†å­å­¦æ ‡å¿—ç‰©å¯¹MDSè¿›è¡Œé¢„åè¯„ä¼°ï¼Œæ˜¯IPSS-Rçš„å‡çº§ç‰ˆã€‚</p>
                    <p><strong>é€‚ç”¨äººç¾¤ï¼š</strong>éª¨é«“å¢ç”Ÿå¼‚å¸¸ç»¼åˆå¾(MDS)æ‚£è€…</p>
                </div>

                <div class="info-box">
                    <strong>è¯´æ˜ï¼š</strong>IPSS-Mæ•´åˆäº†6ä¸ªåˆ†å­æ ‡å¿—ç‰©ï¼ˆTP53, SF3B1, ASXL1, DNMT3A, U2AF1, RUNX1ï¼‰å’ŒIPSS-Rçš„ä¸´åºŠç—…ç†å­¦å‚æ•°ã€‚
                    <br><strong>æ³¨æ„ï¼š</strong>åˆ†å­æ ‡å¿—ç‰©ä¸ºé€‰å¡«é¡¹ï¼Œå¦‚æœªæ£€æµ‹å¯é€‰æ‹©"æœªæ£€æµ‹/æœªçŸ¥"ã€‚
                </div>

                <div class="question-group">
                    <div class="question-title">åˆ†å­æ ‡å¿—ç‰©</div>
                    <div class="option-group">
                        <div style="padding: 10px; background: white; border-radius: 5px; margin-bottom: 10px;">
                            <strong>TP53 çªå˜çŠ¶æ€ï¼š</strong>
                            <div class="input-group">
                                <select id="ipssm_tp53" class="input-number" onchange="calculateIPSSM()">
                                    <option value="0">æœªçªå˜/å¤šç­‰ä½åŸºå› ç¼ºå¤±>1ä¸ª</option>
                                    <option value="1">å•æ‰“å‡»çªå˜æˆ–VAF<10%</option>
                                    <option value="2">å¤šæ‰“å‡»çªå˜æˆ–VAFâ‰¥10%</option>
                                    <option value="3">æœªæ£€æµ‹/æœªçŸ¥</option>
                                </select>
                            </div>
                        </div>

                        <div style="padding: 10px; background: white; border-radius: 5px; margin-bottom: 10px;">
                            <strong>SF3B1 çªå˜çŠ¶æ€ï¼š</strong>
                            <div class="input-group">
                                <select id="ipssm_sf3b1" class="input-number" onchange="calculateIPSSM()">
                                    <option value="0">æœªçªå˜</option>
                                    <option value="1">çªå˜</option>
                                    <option value="2">æœªæ£€æµ‹/æœªçŸ¥</option>
                                </select>
                            </div>
                        </div>

                        <div style="padding: 10px; background: white; border-radius: 5px; margin-bottom: 10px;">
                            <strong>ASXL1 çªå˜çŠ¶æ€ï¼š</strong>
                            <div class="input-group">
                                <select id="ipssm_asxl1" class="input-number" onchange="calculateIPSSM()">
                                    <option value="0">æœªçªå˜</option>
                                    <option value="1">çªå˜</option>
                                    <option value="2">æœªæ£€æµ‹/æœªçŸ¥</option>
                                </select>
                            </div>
                        </div>

                        <div style="padding: 10px; background: white; border-radius: 5px; margin-bottom: 10px;">
                            <strong>RUNX1 çªå˜çŠ¶æ€ï¼š</strong>
                            <div class="input-group">
                                <select id="ipssm_runx1" class="input-number" onchange="calculateIPSSM()">
                                    <option value="0">æœªçªå˜</option>
                                    <option value="1">çªå˜</option>
                                    <option value="2">æœªæ£€æµ‹/æœªçŸ¥</option>
                                </select>
                            </div>
                        </div>

                        <div style="padding: 10px; background: white; border-radius: 5px; margin-bottom: 10px;">
                            <strong>DNMT3A çªå˜çŠ¶æ€ï¼š</strong>
                            <div class="input-group">
                                <select id="ipssm_dnmt3a" class="input-number" onchange="calculateIPSSM()">
                                    <option value="0">æœªçªå˜</option>
                                    <option value="1">çªå˜</option>
                                    <option value="2">æœªæ£€æµ‹/æœªçŸ¥</option>
                                </select>
                            </div>
                        </div>

                        <div style="padding: 10px; background: white; border-radius: 5px; margin-bottom: 10px;">
                            <strong>U2AF1 çªå˜çŠ¶æ€ï¼š</strong>
                            <div class="input-group">
                                <select id="ipssm_u2af1" class="input-number" onchange="calculateIPSSM()">
                                    <option value="0">æœªçªå˜</option>
                                    <option value="1">çªå˜</option>
                                    <option value="2">æœªæ£€æµ‹/æœªçŸ¥</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateIPSSM()">è¯„ä¼°ç»“æœ</button>

                <div class="result-section" id="ipssm-result">
                    <div class="result-title">è¯„ä¼°ç»“æœ</div>
                    <div class="result-content" id="ipssm-content"></div>
                </div>

                <div class="reference">
                    <p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong>Greenberg PL, et al. IPSS-M: a prognostic model for MDS incorporating genomic data. Blood. 2022.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ç§»åŠ¨ç«¯ä¾§è¾¹æ åˆ‡æ¢åŠŸèƒ½
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebarOverlay');

            sidebar.classList.toggle('show');
            overlay.classList.toggle('show');

            // é˜²æ­¢èƒŒæ™¯æ»šåŠ¨
            if (sidebar.classList.contains('show')) {
                document.body.style.overflow = 'hidden';
            } else {
                document.body.style.overflow = '';
            }
        }

        // ç‚¹å‡»ä¾§è¾¹æ é“¾æ¥åè‡ªåŠ¨å…³é—­ä¾§è¾¹æ ï¼ˆç§»åŠ¨ç«¯ï¼‰
        function showScale(scaleId) {
            // éšè—æ‰€æœ‰é‡è¡¨
            const sections = document.querySelectorAll('.scale-section');
            sections.forEach(section => section.classList.remove('active'));

            // ç§»é™¤æ‰€æœ‰æ ‡ç­¾çš„activeçŠ¶æ€
            const tabs = document.querySelectorAll('.nav-tab');
            tabs.forEach(tab => tab.classList.remove('active'));

            // ç§»é™¤ä¾§è¾¹å¯¼èˆªçš„activeçŠ¶æ€
            const sidebarLinks = document.querySelectorAll('.sidebar-link');
            sidebarLinks.forEach(link => link.classList.remove('active'));

            // æ˜¾ç¤ºé€‰ä¸­çš„é‡è¡¨
            const scaleElement = document.getElementById(scaleId);
            if (scaleElement) {
                scaleElement.classList.add('active');
            }

            // æ›´æ–°å¯¼èˆªæ ‡ç­¾çŠ¶æ€ï¼ˆå¦‚æœæ˜¯ä»æ ‡ç­¾ç‚¹å‡»ï¼‰
            if (event && event.target && event.target.classList.contains('nav-tab')) {
                event.target.classList.add('active');
            } else {
                // å¦‚æœä»ä¾§è¾¹æ ç‚¹å‡»ï¼Œæ‰¾åˆ°å¯¹åº”çš„æ ‡ç­¾å¹¶æ¿€æ´»
                const matchingTab = document.querySelector(`.nav-tab[onclick*="'${scaleId}'"]`);
                if (matchingTab) {
                    matchingTab.classList.add('active');
                }
            }

            // ç§»åŠ¨ç«¯ï¼šå…³é—­ä¾§è¾¹æ 
            if (window.innerWidth <= 768) {
                const sidebar = document.getElementById('sidebar');
                const overlay = document.getElementById('sidebarOverlay');
                sidebar.classList.remove('show');
                overlay.classList.remove('show');
                document.body.style.overflow = '';
            }

            // æ»šåŠ¨åˆ°é¡¶éƒ¨
            const content = document.querySelector('.content');
            if (content) {
                content.scrollTop = 0;
            }
            window.scrollTo(0, 0);
        }

        // åˆ†ç±»ç­›é€‰åŠŸèƒ½
        function filterCategory(category) {
            const tabs = document.querySelectorAll('.nav-tab');
            const buttons = document.querySelectorAll('.category-btn');

            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            // ç­›é€‰æ ‡ç­¾
            tabs.forEach(tab => {
                if (category === 'all' || tab.dataset.category === category) {
                    tab.style.display = '';
                } else {
                    tab.style.display = 'none';
                }
            });
        }

        // æ˜¾ç¤ºé‡è¡¨åŠŸèƒ½
        function showScale(scaleId) {
            // éšè—æ‰€æœ‰é‡è¡¨
            const sections = document.querySelectorAll('.scale-section');
            sections.forEach(section => section.classList.remove('active'));

            // ç§»é™¤æ‰€æœ‰æ ‡ç­¾çš„activeçŠ¶æ€
            const tabs = document.querySelectorAll('.nav-tab');
            tabs.forEach(tab => tab.classList.remove('active'));

            // ç§»é™¤ä¾§è¾¹å¯¼èˆªçš„activeçŠ¶æ€
            const sidebarLinks = document.querySelectorAll('.sidebar-link');
            sidebarLinks.forEach(link => link.classList.remove('active'));

            // æ˜¾ç¤ºé€‰ä¸­çš„é‡è¡¨
            const scaleElement = document.getElementById(scaleId);
            if (scaleElement) {
                scaleElement.classList.add('active');
            }

            // æ›´æ–°å¯¼èˆªæ ‡ç­¾çŠ¶æ€ï¼ˆå¦‚æœæ˜¯ä»æ ‡ç­¾ç‚¹å‡»ï¼‰
            if (event && event.target && event.target.classList.contains('nav-tab')) {
                event.target.classList.add('active');
            } else {
                // å¦‚æœä»ä¾§è¾¹æ ç‚¹å‡»ï¼Œæ‰¾åˆ°å¯¹åº”çš„æ ‡ç­¾å¹¶æ¿€æ´»
                const matchingTab = document.querySelector(`.nav-tab[onclick*="'${scaleId}'"]`);
                if (matchingTab) {
                    matchingTab.classList.add('active');
                }
            }

            // æ»šåŠ¨åˆ°é¡¶éƒ¨
            document.querySelector('.content').scrollTop = 0;
        }

        // ECOGè®¡ç®—
        function calculateECOG() {
            const ecogValue = document.querySelector('input[name="ecog"]:checked');
            const resultSection = document.getElementById('ecog-result');
            const resultContent = document.getElementById('ecog-content');

            if (!ecogValue) {
                alert('è¯·å…ˆé€‰æ‹©æ‚£è€…çš„åŠŸèƒ½çŠ¶æ€ï¼');
                return;
            }

            const level = ecogValue.value;
            let resultText = '';
            let implication = '';

            switch(level) {
                case '0':
                    resultText = '0çº§ - å®Œå…¨æ´»åŠ¨';
                    implication = 'èƒ½è€å—å¼ºåŒ–ç–—æˆ–è”åˆæ²»ç–—';
                    break;
                case '1':
                    resultText = '1çº§ - é‡ä½“åŠ›æ´»åŠ¨å—é™';
                    implication = 'èƒ½è€å—å¤§å¤šæ•°åŒ–ç–—';
                    break;
                case '2':
                    resultText = '2çº§ - ç”Ÿæ´»è‡ªç†';
                    implication = 'å¯è€ƒè™‘å•è¯åŒ–ç–—æˆ–å‡é‡è”åˆåŒ–ç–—';
                    break;
                case '3':
                    resultText = '3çº§ - éƒ¨åˆ†è‡ªç†';
                    implication = 'å¯è€ƒè™‘æ”¯æŒæ²»ç–—æˆ–ä½å‰‚é‡åŒ–ç–—';
                    break;
                case '4':
                    resultText = '4çº§ - å®Œå…¨ä¸§å¤±æ´»åŠ¨èƒ½åŠ›';
                    implication = 'ä»…èƒ½è€ƒè™‘æ”¯æŒæ²»ç–—';
                    break;
            }

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>ECOGåˆ†çº§ï¼š</strong><span class="risk-group risk-low">${resultText}</span>
                </div>
                <p><strong>ä¸´åºŠæ„ä¹‰ï¼š</strong>${implication}</p>
            `;

            resultSection.classList.add('show');
        }

        // KPSè®¡ç®—
        function calculateKPS() {
            const kpsValue = document.querySelector('input[name="kps"]:checked');
            const resultSection = document.getElementById('kps-result');
            const resultContent = document.getElementById('kps-content');

            if (!kpsValue) {
                alert('è¯·å…ˆé€‰æ‹©æ‚£è€…çš„åŠŸèƒ½çŠ¶æ€ï¼');
                return;
            }

            const score = kpsValue.value;
            let statusText = '';
            let ecogEq = '';

            switch(score) {
                case '100': statusText = '100åˆ† - æ­£å¸¸'; ecogEq = 'â‰ˆ ECOG 0çº§'; break;
                case '90': statusText = '90åˆ† - æ­£å¸¸æ´»åŠ¨'; ecogEq = 'â‰ˆ ECOG 0-1çº§'; break;
                case '80': statusText = '80åˆ† - æ­£å¸¸æ´»åŠ¨éœ€åŠªåŠ›'; ecogEq = 'â‰ˆ ECOG 1çº§'; break;
                case '70': statusText = '70åˆ† - ä¸èƒ½æ­£å¸¸å·¥ä½œ'; ecogEq = 'â‰ˆ ECOG 1-2çº§'; break;
                case '60': statusText = '60åˆ† - éœ€è¦å¶å°”å¸®åŠ©'; ecogEq = 'â‰ˆ ECOG 2çº§'; break;
                case '50': statusText = '50åˆ† - éœ€è¦å¤§é‡å¸®åŠ©'; ecogEq = 'â‰ˆ ECOG 3çº§'; break;
                case '40': statusText = '40åˆ† - ä¸§å¤±æ´»åŠ¨èƒ½åŠ›'; ecogEq = 'â‰ˆ ECOG 3çº§'; break;
                case '30': statusText = '30åˆ† - ä¸¥é‡ä¸§å¤±æ´»åŠ¨èƒ½åŠ›'; ecogEq = 'â‰ˆ ECOG 3-4çº§'; break;
                case '20': statusText = '20åˆ† - ç—…é‡'; ecogEq = 'â‰ˆ ECOG 4çº§'; break;
                case '10': statusText = '10åˆ† - æ¿’æ­»'; ecogEq = 'â‰ˆ ECOG 4çº§'; break;
            }

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>KPSè¯„åˆ†ï¼š</strong><span class="risk-group risk-low">${statusText}</span>
                </div>
                <p><strong>ECOGå¯¹åº”ï¼š</strong>${ecogEq}</p>
            `;

            resultSection.classList.add('show');
        }

        // IPIè®¡ç®—
        function calculateIPI() {
            const checkboxes = ['i_age', 'i_ldh', 'i_ecog', 'i_stage', 'i_extranodal'];
            let score = 0;

            checkboxes.forEach(id => {
                const checkbox = document.getElementById(id);
                if (checkbox && checkbox.checked) score++;
            });

            const resultSection = document.getElementById('i-result');
            const resultContent = document.getElementById('i-content');

            let riskGroup = '';
            let riskClass = '';
            let survival = '';

            switch(score) {
                case 0:
                case 1:
                    riskGroup = 'ä½å±ï¼ˆ0-1åˆ†ï¼‰';
                    riskClass = 'risk-low';
                    survival = '5å¹´ç”Ÿå­˜ç‡çº¦73%';
                    break;
                case 2:
                    riskGroup = 'ä½ä¸­å±ï¼ˆ2åˆ†ï¼‰';
                    riskClass = 'risk-low';
                    survival = '5å¹´ç”Ÿå­˜ç‡çº¦51%';
                    break;
                case 3:
                    riskGroup = 'é«˜ä¸­å±ï¼ˆ3åˆ†ï¼‰';
                    riskClass = 'risk-intermediate';
                    survival = '5å¹´ç”Ÿå­˜ç‡çº¦43%';
                    break;
                default:
                    riskGroup = 'é«˜å±ï¼ˆ4-5åˆ†ï¼‰';
                    riskClass = 'risk-high';
                    survival = '5å¹´ç”Ÿå­˜ç‡çº¦26%';
                    break;
            }

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>IPIè¯„åˆ†ï¼š</strong><span class="${riskClass}">${score}åˆ† - ${riskGroup}</span>
                </div>
                <p><strong>é¢„åè¯„ä¼°ï¼š</strong>${survival}</p>
            `;

            resultSection.classList.add('show');
        }

        // FLIPIè®¡ç®—
        function calculateFLIPI() {
            const checkboxes = ['flipi_age', 'flipi_stage', 'flipi_hb', 'flipi_nodes', 'flipi_ldh'];
            let score = 0;

            checkboxes.forEach(id => {
                const checkbox = document.getElementById(id);
                if (checkbox && checkbox.checked) score++;
            });

            const resultSection = document.getElementById('flipi-result');
            const resultContent = document.getElementById('flipi-content');

            let riskGroup = '';
            let riskClass = '';
            let survival = '';

            switch(score) {
                case 0:
                case 1:
                    riskGroup = 'ä½å±ï¼ˆ0-1åˆ†ï¼‰';
                    riskClass = 'risk-low';
                    survival = '5å¹´ç”Ÿå­˜ç‡çº¦91%';
                    break;
                case 2:
                    riskGroup = 'ä¸­å±ï¼ˆ2åˆ†ï¼‰';
                    riskClass = 'risk-intermediate';
                    survival = '5å¹´ç”Ÿå­˜ç‡çº¦78%';
                    break;
                default:
                    riskGroup = 'é«˜å±ï¼ˆ3-5åˆ†ï¼‰';
                    riskClass = 'risk-high';
                    survival = '5å¹´ç”Ÿå­˜ç‡çº¦52%';
                    break;
            }

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>FLIPIè¯„åˆ†ï¼š</strong><span class="${riskClass}">${score}åˆ† - ${riskGroup}</span>
                </div>
                <p><strong>é¢„åè¯„ä¼°ï¼š</strong>${survival}</p>
            `;

            resultSection.classList.add('show');
        }

        // MIPIè®¡ç®—
        function calculateMIPI() {
            const age = document.querySelector('input[name="mipi_age"]:checked');
            const ecog = document.querySelector('input[name="mipi_ecog"]:checked');
            const ldh = document.querySelector('input[name="mipi_ldh"]:checked');
            const wbc = document.querySelector('input[name="mipi_wbc"]:checked');

            if (!age || !ecog || !ldh || !wbc) {
                alert('è¯·å®Œæˆæ‰€æœ‰é€‰é¡¹ï¼');
                return;
            }

            let score = parseInt(age.value) + parseInt(ecog.value) + parseInt(ldh.value) + parseInt(wbc.value);

            const resultSection = document.getElementById('mipi-result');
            const resultContent = document.getElementById('mipi-content');

            let riskGroup = '';
            let riskClass = '';
            let survival = '';

            if (score <= 3) {
                riskGroup = 'ä½å±ï¼ˆ0-3åˆ†ï¼‰';
                riskClass = 'risk-low';
                survival = 'ä¸­ä½OSæœªè¾¾åˆ°ï¼ˆ5å¹´OSçº¦60%ï¼‰';
            } else if (score <= 5) {
                riskGroup = 'ä¸­å±ï¼ˆ4-5åˆ†ï¼‰';
                riskClass = 'risk-intermediate';
                survival = 'ä¸­ä½OSçº¦51ä¸ªæœˆ';
            } else {
                riskGroup = 'é«˜å±ï¼ˆ6-11åˆ†ï¼‰';
                riskClass = 'risk-high';
                survival = 'ä¸­ä½OSçº¦29ä¸ªæœˆ';
            }

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>MIPIè¯„åˆ†ï¼š</strong><span class="${riskClass}">${score}åˆ† - ${riskGroup}</span>
                </div>
                <p><strong>é¢„åè¯„ä¼°ï¼š</strong>${survival}</p>
            `;

            resultSection.classList.add('show');
        }

        // Ann Arboråˆ†æœŸ
        function calculateAnnArbor() {
            const stage = document.querySelector('input[name="annarbor"]:checked');
            const symptoms = document.querySelector('input[name="annarbor_symptoms"]:checked');

            if (!stage || !symptoms) {
                alert('è¯·å®Œæˆæ‰€æœ‰é€‰é¡¹ï¼');
                return;
            }

            const resultSection = document.getElementById('annarbor-result');
            const resultContent = document.getElementById('annarbor-content');

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>Ann Arboråˆ†æœŸï¼š</strong><span class="risk-group risk-low">${stage.value}æœŸ${symptoms.value}</span>
                </div>
                <p><strong>åˆ†æœŸæ„ä¹‰ï¼š</strong></p>
                <ul>
                    <li>IæœŸï¼šå•ä¸ªæ·‹å·´ç»“åŒºåŸŸæˆ–æ·‹å·´å¤–å™¨å®˜å—ç´¯</li>
                    <li>IIæœŸï¼šæ¨ªè†ˆåŒä¾§ä¸¤ä¸ªæˆ–ä»¥ä¸Šæ·‹å·´ç»“åŒºåŸŸ</li>
                    <li>IIIæœŸï¼šæ¨ªè†ˆä¸¤ä¾§æ·‹å·´ç»“åŒºåŸŸ</li>
                    <li>IVæœŸï¼šå¼¥æ¼«æ€§æˆ–æ’­æ•£æ€§ç´¯åŠæ·‹å·´å¤–å™¨å®˜</li>
                </ul>
                <p><strong>å…¨èº«ç—‡çŠ¶ï¼š</strong>${symptoms.value === 'A' ? 'æ— å…¨èº«ç—‡çŠ¶ï¼ˆAï¼‰' : 'æœ‰Bç—‡çŠ¶ï¼ˆå‘çƒ­ã€ç›—æ±—ã€ä½“é‡ä¸‹é™>10%ï¼‰ï¼ˆBï¼‰'}</p>
            `;

            resultSection.classList.add('show');
        }

        // ISSè®¡ç®—
        function calculateISS() {
            const b2m = document.querySelector('input[name="iss_b2m"]:checked');
            const alb = document.querySelector('input[name="iss_alb"]:checked');

            if (!b2m || !alb) {
                alert('è¯·å®Œæˆæ‰€æœ‰é€‰é¡¹ï¼');
                return;
            }

            let stage = '';
            let stageClass = '';
            let survival = '';

            if (b2m.value === 'low' && alb.value === 'high') {
                stage = 'IæœŸ';
                stageClass = 'risk-low';
                survival = 'ä¸­ä½ç”Ÿå­˜çº¦62ä¸ªæœˆ';
            } else if ((b2m.value === 'low' && alb.value === 'low') ||
                       (b2m.value === 'mid' && alb.value === 'high') ||
                       (b2m.value === 'mid' && alb.value === 'low')) {
                stage = 'IIæœŸ';
                stageClass = 'risk-intermediate';
                survival = 'ä¸­ä½ç”Ÿå­˜çº¦44ä¸ªæœˆ';
            } else {
                stage = 'IIIæœŸ';
                stageClass = 'risk-high';
                survival = 'ä¸­ä½ç”Ÿå­˜çº¦29ä¸ªæœˆ';
            }

            const resultSection = document.getElementById('iss-result');
            const resultContent = document.getElementById('iss-content');

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>ISSåˆ†æœŸï¼š</strong><span class="${stageClass}">${stage}</span>
                </div>
                <p><strong>é¢„åè¯„ä¼°ï¼š</strong>${survival}</p>
            `;

            resultSection.classList.add('show');
        }

        // R-ISSè®¡ç®—
        function calculateRISS() {
            const b2m = document.querySelector('input[name="riss_b2m"]:checked');
            const alb = document.querySelector('input[name="riss_alb"]:checked');
            const ldh = document.querySelector('input[name="riss_ldh"]:checked');
            const fish = document.querySelector('input[name="riss_fish"]:checked');

            if (!b2m || !alb || !ldh || !fish) {
                alert('è¯·å®Œæˆæ‰€æœ‰é€‰é¡¹ï¼');
                return;
            }

            let stage = '';
            let stageClass = '';
            let survival = '';

            if (b2m.value === 'low' && alb.value === 'high' && ldh.value === 'normal' && fish.value === 'no') {
                stage = 'IæœŸ';
                stageClass = 'risk-low';
                survival = '5å¹´OSçº¦82%';
            } else if (b2m.value === 'high' || alb.value === 'low' || ldh.value === 'high' || fish.value === 'yes') {
                if (b2m.value === 'high' && fish.value === 'yes') {
                    stage = 'IIIæœŸ';
                    stageClass = 'risk-high';
                    survival = '5å¹´OSçº¦40%';
                } else {
                    stage = 'IIæœŸ';
                    stageClass = 'risk-intermediate';
                    survival = '5å¹´OSçº¦62%';
                }
            }

            const resultSection = document.getElementById('riss-result');
            const resultContent = document.getElementById('riss-content');

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>R-ISSåˆ†æœŸï¼š</strong><span class="${stageClass}">${stage}</span>
                </div>
                <p><strong>é¢„åè¯„ä¼°ï¼š</strong>${survival}</p>
                <p><strong>æ³¨æ„ï¼š</strong>R-ISSæ˜¯å½“å‰MMæœ€å¸¸ç”¨çš„é¢„åè¯„ä¼°ç³»ç»Ÿã€‚</p>
            `;

            resultSection.classList.add('show');
        }

        // DSåˆ†æœŸè®¡ç®—
        function calculateDS() {
            const hb = document.querySelector('input[name="ds_hb"]:checked');
            const ca = document.querySelector('input[name="ds_ca"]:checked');
            const bone = document.querySelector('input[name="ds_bone"]:checked');
            const m = document.querySelector('input[name="ds_m"]:checked');

            if (!hb || !ca || !bone || !m) {
                alert('è¯·å®Œæˆæ‰€æœ‰é€‰é¡¹ï¼');
                return;
            }

            let score = parseInt(hb.value) + parseInt(ca.value) + parseInt(bone.value) + parseInt(m.value);

            let stage = '';
            let stageClass = '';

            if (score <= 1) {
                stage = 'IæœŸï¼ˆä½è‚¿ç˜¤è´Ÿè·ï¼‰';
                stageClass = 'risk-low';
            } else if (score <= 3) {
                stage = 'IIæœŸï¼ˆä¸­è‚¿ç˜¤è´Ÿè·ï¼‰';
                stageClass = 'risk-intermediate';
            } else {
                stage = 'IIIæœŸï¼ˆé«˜è‚¿ç˜¤è´Ÿè·ï¼‰';
                stageClass = 'risk-high';
            }

            const resultSection = document.getElementById('ds-result');
            const resultContent = document.getElementById('ds-content');

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>DSåˆ†æœŸï¼š</strong><span class="${stageClass}">${stage}</span>
                </div>
                <p><strong>æ€»åˆ†ï¼š</strong>${score}åˆ†</p>
                <p><strong>æ³¨æ„ï¼š</strong>DSåˆ†æœŸå·²è¢«ISS/R-ISSå–ä»£ç”¨äºé¢„åè¯„ä¼°ï¼Œä½†åœ¨è¯„ä¼°è‚¿ç˜¤è´Ÿè·æ–¹é¢ä»æœ‰ä»·å€¼ã€‚</p>
            `;

            resultSection.classList.add('show');
        }

        // IPSS-Rè®¡ç®—
        function calculateIPSSR() {
            const cyto = document.querySelector('input[name="ipssr_cyto"]:checked');
            const blast = document.querySelector('input[name="ipssr_blast"]:checked');
            const hb = document.querySelector('input[name="ipssr_hb"]:checked');
            const plt = document.querySelector('input[name="ipssr_plt"]:checked');
            const anc = document.querySelector('input[name="ipssr_anc"]:checked');

            if (!cyto || !blast || !hb || !plt || !anc) {
                alert('è¯·å®Œæˆæ‰€æœ‰é€‰é¡¹ï¼');
                return;
            }

            let score = parseInt(cyto.value) + parseInt(blast.value) + parseInt(hb.value) + parseInt(plt.value) + parseInt(anc.value);

            let riskGroup = '';
            let riskClass = '';
            let survival = '';

            if (score <= 1) {
                riskGroup = 'æä½å±ï¼ˆ0-1åˆ†ï¼‰';
                riskClass = 'risk-low';
                survival = 'ä¸­ä½OSæœªè¾¾ï¼ˆ8.8å¹´ï¼‰';
            } else if (score <= 3) {
                riskGroup = 'ä½å±ï¼ˆ2-3åˆ†ï¼‰';
                riskClass = 'risk-low';
                survival = 'ä¸­ä½OS 5.3å¹´';
            } else if (score <= 5) {
                riskGroup = 'ä¸­å±ï¼ˆ4-5åˆ†ï¼‰';
                riskClass = 'risk-intermediate';
                survival = 'ä¸­ä½OS 3.0å¹´';
            } else if (score <= 7) {
                riskGroup = 'é«˜å±ï¼ˆ6-7åˆ†ï¼‰';
                riskClass = 'risk-high';
                survival = 'ä¸­ä½OS 1.5å¹´';
            } else {
                riskGroup = 'æé«˜å±ï¼ˆ>7åˆ†ï¼‰';
                riskClass = 'risk-high';
                survival = 'ä¸­ä½OS 0.8å¹´';
            }

            const resultSection = document.getElementById('ipssr-result');
            const resultContent = document.getElementById('ipssr-content');

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>IPSS-Rè¯„åˆ†ï¼š</strong><span class="${riskClass}">${score}åˆ† - ${riskGroup}</span>
                </div>
                <p><strong>é¢„åè¯„ä¼°ï¼š</strong>${survival}</p>
                <p><strong>5å¹´AMLè¿›å±•é£é™©ï¼š</strong>${score <= 1 ? '3%' : score <= 3 ? '10%' : score <= 5 ? '21%' : score <= 7 ? '37%' : '57%'}</p>
            `;

            resultSection.classList.add('show');
        }

        // IPSS-Mè®¡ç®—ï¼ˆç®€åŒ–ç‰ˆï¼‰
        function calculateIPSSM() {
            const base = document.querySelector('input[name="ipssm_base"]:checked');
            const tp53 = document.getElementById('ipssm_tp53');
            const sf3b1 = document.getElementById('ipssm_sf3b1');

            if (!base) {
                alert('è¯·é€‰æ‹©IPSS-RåŸºçº¿é£é™©ï¼');
                return;
            }

            let resultSection = document.getElementById('ipssm-result');
            let resultContent = document.getElementById('ipssm-content');

            let adjustText = '';
            if (tp53 && tp53.checked) {
                adjustText = 'âš ï¸ TP53çªå˜æ˜¾è‘—å¢åŠ é£é™©ï¼Œå»ºè®®è€ƒè™‘IPSS-Mé«˜å±ç»„';
            } else if (sf3b1 && sf3b1.checked && !document.getElementById('ipssm_other').checked) {
                adjustText = 'âœ“ SF3B1å•ç‹¬çªå˜é™ä½é£é™©ï¼Œå¯èƒ½ä¸‹è°ƒ1ä¸ªé£é™©ç»„';
            }

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>IPSS-MåŸºçº¿ï¼š</strong><span class="risk-group risk-intermediate">${base.value}</span>
                </div>
                <p><strong>åŸºå› è°ƒæ•´ï¼š</strong>${adjustText || 'æ— æ˜æ˜¾å½±å“åŸºå› '}</p>
                <p><strong>è¯´æ˜ï¼š</strong>IPSS-Méœ€è¦ç»“åˆå®Œæ•´çš„åŸºå› çªå˜è°±è¿›è¡Œç²¾ç¡®è®¡ç®—ã€‚å»ºè®®ä½¿ç”¨ä¸“ä¸šIPSS-Mè®¡ç®—å·¥å…·æˆ–å’¨è¯¢è¡€æ¶²ç§‘ä¸“å®¶ã€‚</p>
                <p><strong>ä¸´åºŠæ„ä¹‰ï¼š</strong>IPSS-Mï¼ˆ2022å¹´å‘å¸ƒï¼‰æ˜¯å½“å‰MDSæœ€ç²¾ç¡®çš„é¢„åå·¥å…·ï¼Œ2025-2026å¹´å°†é€æ­¥åœ¨ä¸´åºŠæ¨å¹¿ã€‚</p>
            `;

            resultSection.classList.add('show');
        }

        // IPSSè®¡ç®—ï¼ˆéª¨é«“çº¤ç»´åŒ–ï¼‰
        function calculateIPSS() {
            const checkboxes = ['ipss_age', 'ipss_hb', 'ipss_wbc', 'ipss_blast', 'ipss_symptoms'];
            let score = 0;

            checkboxes.forEach(id => {
                const checkbox = document.getElementById(id);
                if (checkbox && checkbox.checked) score++;
            });

            let riskGroup = '';
            let riskClass = '';
            let survival = '';

            switch(score) {
                case 0:
                    riskGroup = 'ä½å±ï¼ˆ0åˆ†ï¼‰';
                    riskClass = 'risk-low';
                    survival = 'ä¸­ä½OSçº¦11å¹´';
                    break;
                case 1:
                    riskGroup = 'ä¸­å±-1ï¼ˆ1åˆ†ï¼‰';
                    riskClass = 'risk-low';
                    survival = 'ä¸­ä½OSçº¦8å¹´';
                    break;
                case 2:
                    riskGroup = 'ä¸­å±-2ï¼ˆ2åˆ†ï¼‰';
                    riskClass = 'risk-intermediate';
                    survival = 'ä¸­ä½OSçº¦4å¹´';
                    break;
                default:
                    riskGroup = 'é«˜å±ï¼ˆâ‰¥3åˆ†ï¼‰';
                    riskClass = 'risk-high';
                    survival = 'ä¸­ä½OSçº¦2å¹´';
                    break;
            }

            const resultSection = document.getElementById('ipss-result');
            const resultContent = document.getElementById('ipss-content');

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>IPSSè¯„åˆ†ï¼š</strong><span class="${riskClass}">${score}åˆ† - ${riskGroup}</span>
                </div>
                <p><strong>é¢„åè¯„ä¼°ï¼š</strong>${survival}</p>
            `;

            resultSection.classList.add('show');
        }

        // DIPSSè®¡ç®—
        function calculateDIPSS() {
            let score = 0;

            if (document.getElementById('dipss_age').checked) score += 1;
            if (document.getElementById('dipss_hb').checked) score += 2;
            if (document.getElementById('dipss_wbc').checked) score += 1;
            if (document.getElementById('dipss_blast').checked) score += 1;
            if (document.getElementById('dipss_symptoms').checked) score += 1;

            let riskGroup = '';
            let riskClass = '';
            let survival = '';

            if (score <= 1) {
                riskGroup = 'ä½å±ï¼ˆ0-1åˆ†ï¼‰';
                riskClass = 'risk-low';
                survival = 'ä¸­ä½OSçº¦15å¹´';
            } else if (score <= 2) {
                riskGroup = 'ä¸­å±-1ï¼ˆ2åˆ†ï¼‰';
                riskClass = 'risk-low';
                survival = 'ä¸­ä½OSçº¦7å¹´';
            } else if (score <= 4) {
                riskGroup = 'ä¸­å±-2ï¼ˆ3-4åˆ†ï¼‰';
                riskClass = 'risk-intermediate';
                survival = 'ä¸­ä½OSçº¦3.5å¹´';
            } else {
                riskGroup = 'é«˜å±ï¼ˆ5-6åˆ†ï¼‰';
                riskClass = 'risk-high';
                survival = 'ä¸­ä½OSçº¦1.5å¹´';
            }

            const resultSection = document.getElementById('dipss-result');
            const resultContent = document.getElementById('dipss-content');

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>DIPSSè¯„åˆ†ï¼š</strong><span class="${riskClass}">${score}åˆ† - ${riskGroup}</span>
                </div>
                <p><strong>é¢„åè¯„ä¼°ï¼š</strong>${survival}</p>
            `;

            resultSection.classList.add('show');
        }

        // IPSET-thrombosisè®¡ç®—
        function calculateIPSET() {
            let score = 0;

            if (document.getElementById('ipset_age').checked) score += 1;
            if (document.getElementById('ipset_cv').checked) score += 1;
            if (document.getElementById('ipset_thrombosis').checked) score += 2;
            if (document.getElementById('ipset_jak2').checked) score += 2;

            let riskGroup = '';
            let riskClass = '';
            let thrombosisRisk = '';

            if (score === 0) {
                riskGroup = 'ä½å±ï¼ˆ0åˆ†ï¼‰';
                riskClass = 'risk-low';
                thrombosisRisk = 'å¹´è¡€æ “é£é™©çº¦1-2%';
            } else if (score <= 2) {
                riskGroup = 'ä¸­å±ï¼ˆ1-2åˆ†ï¼‰';
                riskClass = 'risk-intermediate';
                thrombosisRisk = 'å¹´è¡€æ “é£é™©çº¦2-3%';
            } else {
                riskGroup = 'é«˜å±ï¼ˆâ‰¥3åˆ†ï¼‰';
                riskClass = 'risk-high';
                thrombosisRisk = 'å¹´è¡€æ “é£é™©çº¦5-10%';
            }

            const resultSection = document.getElementById('ipset-result');
            const resultContent = document.getElementById('ipset-content');

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>IPSET-thrombosisè¯„åˆ†ï¼š</strong><span class="${riskClass}">${score}åˆ† - ${riskGroup}</span>
                </div>
                <p><strong>è¡€æ “é£é™©ï¼š</strong>${thrombosisRisk}</p>
                <p><strong>æŠ—æ “å»ºè®®ï¼š</strong>${score <= 2 ? 'é˜¿å¸åŒ¹æ—' : 'é˜¿å¸åŒ¹æ— + é™ç»†èƒæ²»ç–—'}</p>
            `;

            resultSection.classList.add('show');
        }

        // Sokalè¯„åˆ†è®¡ç®—
        function calculateSokal() {
            const age = parseFloat(document.getElementById('sokal_age').value);
            const spleen = parseFloat(document.getElementById('sokal_spleen').value);
            const plt = parseFloat(document.getElementById('sokar_plt').value);
            const blast = parseFloat(document.getElementById('sokal_blast').value);

            if (isNaN(age) || isNaN(spleen) || isNaN(plt) || isNaN(blast)) {
                alert('è¯·è¾“å…¥æ‰€æœ‰æ•°å€¼ï¼');
                return;
            }

            const sokalScore = 0.0116 * (age - 43.4) + 0.0345 * (spleen - 7.51) + 0.188 * Math.pow(plt / 700, 2) + 0.0887 * (blast - 2.1);

            let riskGroup = '';
            let riskClass = '';

            if (sokalScore < 0.8) {
                riskGroup = 'ä½å±';
                riskClass = 'risk-low';
            } else if (sokalScore <= 1.2) {
                riskGroup = 'ä¸­å±';
                riskClass = 'risk-intermediate';
            } else {
                riskGroup = 'é«˜å±';
                riskClass = 'risk-high';
            }

            const resultSection = document.getElementById('sokal-result');
            const resultContent = document.getElementById('sokal-content');

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>Sokalè¯„åˆ†ï¼š</strong><span class="${riskClass}">${sokalScore.toFixed(3)} - ${riskGroup}</span>
                </div>
                <p><strong>é¢„åï¼š</strong>${riskGroup === 'ä½å±' ? '5å¹´ç”Ÿå­˜ç‡çº¦90%' : riskGroup === 'ä¸­å±' ? '5å¹´ç”Ÿå­˜ç‡çº¦80%' : '5å¹´ç”Ÿå­˜ç‡çº¦65%'}</p>
            `;

            resultSection.classList.add('show');
        }

        // EUTOSè¯„åˆ†è®¡ç®—
        function calculateEUTOS() {
            const basophil = parseFloat(document.getElementById('eutos_basophil').value);
            const spleen = parseFloat(document.getElementById('eutos_spleen').value);

            if (isNaN(basophil) || isNaN(spleen)) {
                alert('è¯·è¾“å…¥æ‰€æœ‰æ•°å€¼ï¼');
                return;
            }

            const eutosScore = 7 * basophil + 4 * spleen;

            let riskGroup = '';
            let riskClass = '';

            if (eutosScore <= 87) {
                riskGroup = 'ä½å±';
                riskClass = 'risk-low';
            } else {
                riskGroup = 'é«˜å±';
                riskClass = 'risk-high';
            }

            const resultSection = document.getElementById('eutos-result');
            const resultContent = document.getElementById('eutos-content');

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>EUTOSè¯„åˆ†ï¼š</strong><span class="${riskClass}">${eutosScore} - ${riskGroup}</span>
                </div>
                <p><strong>5å¹´ç´¯ç§¯CCyRç‡ï¼š</strong>${riskGroup === 'ä½å±' ? 'çº¦90%' : 'çº¦70%'}</p>
            `;

            resultSection.classList.add('show');
        }

        // ISTH DICè®¡ç®—
        function calculateISTH() {
            const plt = document.querySelector('input[name="isth_plt"]:checked');
            const ddimer = document.querySelector('input[name="isth_ddimer"]:checked');
            const pt = document.querySelector('input[name="isth_pt"]:checked');
            const fibrinogen = document.querySelector('input[name="isth_fibrinogen"]:checked');

            if (!plt || !ddimer || !pt || !fibrinogen) {
                alert('è¯·å®Œæˆæ‰€æœ‰é€‰é¡¹ï¼');
                return;
            }

            let score = parseInt(plt.value) + parseInt(ddimer.value) + parseInt(pt.value) + parseInt(fibrinogen.value);

            const resultSection = document.getElementById('isth-result');
            const resultContent = document.getElementById('isth-content');

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>ISTH DICè¯„åˆ†ï¼š</strong><span class="${score >= 5 ? 'risk-group risk-high' : 'risk-group risk-low'}">${score}åˆ†</span>
                </div>
                <p><strong>ç»“æœåˆ¤è¯»ï¼š</strong></p>
                <ul>
                    <li>è¯„åˆ†â‰¥5åˆ†ï¼šæ˜¾æ€§DICï¼Œæ¯æ—¥é‡å¤è¯„åˆ†</li>
                    <li>è¯„åˆ†<5åˆ†ï¼šéæ˜¾æ€§DICï¼Œ1-2æ—¥åé‡å¤è¯„åˆ†</li>
                </ul>
                <p><strong>ä¸´åºŠæ„ä¹‰ï¼š</strong>${score >= 5 ? 'âš ï¸ ç¬¦åˆæ˜¾æ€§DICè¯Šæ–­ï¼Œå»ºè®®ç«‹å³æ²»ç–—' : 'âœ“ æš‚ä¸ç¬¦åˆæ˜¾æ€§DICè¯Šæ–­ï¼Œéœ€åŠ¨æ€ç›‘æµ‹'}</p>
            `;

            resultSection.classList.add('show');
        }

        // 4T'sè¯„åˆ†è®¡ç®—
        function calculate4T() {
            const plt = document.querySelector('input[name="4t_plt"]:checked');
            const time = document.querySelector('input[name="4t_time"]:checked');
            const thrombosis = document.querySelector('input[name="4t_thrombosis"]:checked');
            const other = document.querySelector('input[name="4t_other"]:checked');

            if (!plt || !time || !thrombosis || !other) {
                alert('è¯·å®Œæˆæ‰€æœ‰é€‰é¡¹ï¼');
                return;
            }

            let score = parseInt(plt.value) + parseInt(time.value) + parseInt(thrombosis.value) + parseInt(other.value);

            let probability = '';
            let probabilityClass = '';
            let action = '';

            if (score <= 3) {
                probability = 'ä½åº¦å¯èƒ½ï¼ˆ0-3åˆ†ï¼‰';
                probabilityClass = 'risk-low';
                action = 'å¯»æ‰¾å…¶ä»–è¡€å°æ¿å‡å°‘åŸå› ï¼Œå¯ç»§ç»­è‚ç´ æ²»ç–—ï¼ˆä¸´åºŠå¯†åˆ‡ç›‘æµ‹ï¼‰';
            } else if (score <= 5) {
                probability = 'ä¸­åº¦å¯èƒ½ï¼ˆ4-5åˆ†ï¼‰';
                probabilityClass = 'risk-intermediate';
                action = 'åœç”¨è‚ç´ ï¼Œè€ƒè™‘å¯åŠ¨éè‚ç´ æŠ—å‡å‰‚ï¼Œè¿›è¡ŒHITæŠ—ä½“æ£€æµ‹';
            } else {
                probability = 'é«˜åº¦å¯èƒ½ï¼ˆ6-8åˆ†ï¼‰';
                probabilityClass = 'risk-high';
                action = 'åœç”¨è‚ç´ ï¼Œå¯åŠ¨éè‚ç´ æŠ—å‡å‰‚ï¼ˆé˜¿åŠ æ›²ç­ã€æ¯”ä¼å¢å®šï¼‰ï¼Œè¿›è¡ŒHITæŠ—ä½“æ£€æµ‹';
            }

            const resultSection = document.getElementById('4t-result');
            const resultContent = document.getElementById('4t-content');

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>4T'sè¯„åˆ†ï¼š</strong><span class="${probabilityClass}">${score}åˆ† - ${probability}</span>
                </div>
                <p><strong>HITæ¦‚ç‡ï¼š</strong>${probability}</p>
                <p><strong>å¤„ç†å»ºè®®ï¼š</strong>${action}</p>
            `;

            resultSection.classList.add('show');
        }

        // HAS-BLEDè®¡ç®—
        function calculateHASBLED() {
            const checkboxes = ['hasbled_htn', 'hasbled_renal', 'hasbled_liver', 'hasbled_stroke',
                              'hasbled_bleeding', 'hasbled_inr', 'hasbled_age', 'hasbled_drugs'];
            let score = 0;

            checkboxes.forEach(id => {
                const checkbox = document.getElementById(id);
                if (checkbox && checkbox.checked) score++;
            });

            let riskLevel = '';
            let riskClass = '';
            let bleedingRisk = '';

            if (score <= 1) {
                riskLevel = 'ä½å±ï¼ˆ0-1åˆ†ï¼‰';
                riskClass = 'risk-low';
                bleedingRisk = 'å¹´å‡ºè¡€é£é™©1.13%';
            } else if (score === 2) {
                riskLevel = 'ä¸­å±ï¼ˆ2åˆ†ï¼‰';
                riskClass = 'risk-intermediate';
                bleedingRisk = 'å¹´å‡ºè¡€é£é™©1.88%';
            } else if (score === 3) {
                riskLevel = 'é«˜å±ï¼ˆ3åˆ†ï¼‰';
                riskClass = 'risk-high';
                bleedingRisk = 'å¹´å‡ºè¡€é£é™©3.74%';
            } else {
                riskLevel = 'æé«˜å±ï¼ˆâ‰¥4åˆ†ï¼‰';
                riskClass = 'risk-high';
                bleedingRisk = 'å¹´å‡ºè¡€é£é™©8.70%';
            }

            const resultSection = document.getElementById('hasbled-result');
            const resultContent = document.getElementById('hasbled-content');

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>HAS-BLEDè¯„åˆ†ï¼š</strong><span class="${riskClass}">${score}åˆ† - ${riskLevel}</span>
                </div>
                <p><strong>å‡ºè¡€é£é™©ï¼š</strong>${bleedingRisk}</p>
                <p><strong>æ³¨æ„ï¼š</strong></p>
                <ul>
                    <li>é«˜åˆ†ä¸æ˜¯æŠ—å‡ç¦å¿Œï¼Œä½†éœ€è¦çº æ­£å¯é€†å±é™©å› ç´ </li>
                    <li>é«˜å‡ºè¡€é£é™©æ‚£è€…å¯è€ƒè™‘ä½¿ç”¨DOACsè€Œéåæ³•æ—</li>
                    <li>éœ€è¦æ›´å¯†åˆ‡çš„INRç›‘æµ‹ï¼ˆå¦‚ä½¿ç”¨åæ³•æ—ï¼‰</li>
                </ul>
            `;

            resultSection.classList.add('show');
        }

        // Wellsè¯„åˆ†è®¡ç®—
        function calculateWells() {
            let score = 0;

            const checkedItems = document.querySelectorAll('[id^="wells_"]:checked');
            checkedItems.forEach(item => {
                if (item.id.includes('cancer') || item.id.includes('paralysis')) {
                    score += 1.5;
                } else if (item.id !== 'wells_alternative') {
                    score += 1;
                }
            });

            const alternative = document.querySelector('input[name="wells_alternative"]:checked');
            if (alternative && alternative.value === 'yes') {
                score -= 2;
            }

            let probability = '';
            let probabilityClass = '';
            let vteRisk = '';

            if (score <= 1) {
                probability = 'ä½åº¦å¯èƒ½';
                probabilityClass = 'risk-low';
                vteRisk = 'DVT/PEæ¦‚ç‡çº¦6%';
            } else if (score <= 6) {
                probability = 'ä¸­åº¦å¯èƒ½';
                probabilityClass = 'risk-intermediate';
                vteRisk = 'DVT/PEæ¦‚ç‡çº¦28%';
            } else {
                probability = 'é«˜åº¦å¯èƒ½';
                probabilityClass = 'risk-high';
                vteRisk = 'DVT/PEæ¦‚ç‡çº¦52%';
            }

            const resultSection = document.getElementById('wells-result');
            const resultContent = document.getElementById('wells-content');

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>Wellsè¯„åˆ†ï¼š</strong><span class="${probabilityClass}">${score.toFixed(1)}åˆ† - ${probability}</span>
                </div>
                <p><strong>VTEæ¦‚ç‡ï¼š</strong>${vteRisk}</p>
                <p><strong>å¤„ç†å»ºè®®ï¼š</strong>${score <= 1 ? 'å¯è€ƒè™‘D-äºŒèšä½“æ’é™¤ï¼Œæ— éœ€ç«‹å³å½±åƒå­¦æ£€æŸ¥' : score <= 6 ? 'éœ€è¦è¿›è¡ŒD-äºŒèšä½“å’Œ/æˆ–å½±åƒå­¦æ£€æŸ¥' : 'é«˜åº¦æ€€ç–‘VTEï¼Œå»ºè®®ç«‹å³æŠ—å‡æ²»ç–—å¹¶è¿›è¡Œå½±åƒå­¦æ£€æŸ¥'}</p>
            `;

            resultSection.classList.add('show');
        }

        // Paduaè¯„åˆ†è®¡ç®—
        function calculatePadua() {
            let score = 0;

            if (document.getElementById('padua_cancer').checked) score += 3;
            if (document.getElementById('padua_history').checked) score += 3;
            if (document.getElementById('padua_reduced').checked) score += 3;
            if (document.getElementById('padua_highrisk').checked) score += 3;
            if (document.getElementById('padua_age').checked) score += 1;
            if (document.getElementById('padua_heart').checked) score += 1;
            if (document.getElementById('padua_mi').checked) score += 1;
            if (document.getElementById('padua_obesity').checked) score += 1;
            if (document.getElementById('padua_hormones').checked) score += 1;

            let riskGroup = '';
            let riskClass = '';
            let vteRisk = '';

            if (score <= 3) {
                riskGroup = 'ä½å±ï¼ˆ0-3åˆ†ï¼‰';
                riskClass = 'risk-low';
                vteRisk = 'VTEé£é™©çº¦0.3%ï¼Œæ— éœ€è¯ç‰©é¢„é˜²';
            } else {
                riskGroup = 'é«˜å±ï¼ˆâ‰¥4åˆ†ï¼‰';
                riskClass = 'risk-high';
                vteRisk = 'VTEé£é™©çº¦11%ï¼Œéœ€è¦è¯ç‰©é¢„é˜²';
            }

            const resultSection = document.getElementById('padua-result');
            const resultContent = document.getElementById('padua-content');

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>Paduaè¯„åˆ†ï¼š</strong><span class="${riskClass}">${score}åˆ† - ${riskGroup}</span>
                </div>
                <p><strong>VTEé£é™©ï¼š</strong>${vteRisk}</p>
                <p><strong>é¢„é˜²å»ºè®®ï¼š</strong>${score <= 3 ? 'æ— éœ€è¯ç‰©é¢„é˜²ï¼Œå¯è€ƒè™‘æœºæ¢°é¢„é˜²' : 'å»ºè®®è¯ç‰©é¢„é˜²ï¼ˆä½åˆ†å­è‚ç´ ã€åæ³•æ—ã€DOACsï¼‰ï¼Œé™¤éæœ‰å‡ºè¡€ç¦å¿Œ'}</p>
            `;

            resultSection.classList.add('show');
        }

        // HCT-CIè®¡ç®—
        function calculateHCTCI() {
            const scoreValue = document.querySelector('input[name="hctci_score"]:checked');

            if (!scoreValue) {
                alert('è¯·é€‰æ‹©æ€»åˆ†ï¼');
                return;
            }

            let riskGroup = '';
            let riskClass = '';
            let nrm = '';

            switch(scoreValue.value) {
                case '0':
                    riskGroup = '0åˆ†ï¼ˆæ— åˆå¹¶ç—‡ï¼‰';
                    riskClass = 'risk-low';
                    nrm = '2å¹´NRMçº¦14%';
                    break;
                case '1-2':
                    riskGroup = '1-2åˆ†ï¼ˆä½å±ï¼‰';
                    riskClass = 'risk-low';
                    nrm = '2å¹´NRMçº¦21%';
                    break;
                case '3-4':
                    riskGroup = '3-4åˆ†ï¼ˆä¸­å±ï¼‰';
                    riskClass = 'risk-intermediate';
                    nrm = '2å¹´NRMçº¦41%';
                    break;
                case '5plus':
                    riskGroup = 'â‰¥5åˆ†ï¼ˆé«˜å±ï¼‰';
                    riskClass = 'risk-high';
                    nrm = '2å¹´NRMçº¦50%ä»¥ä¸Š';
                    break;
            }

            const resultSection = document.getElementById('hctci-result');
            const resultContent = document.getElementById('hctci-content');

            const checkedCount = document.querySelectorAll('.hctci-item:checked').length;

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>HCT-CIè¯„åˆ†ï¼š</strong><span class="${riskClass}">${riskGroup}</span>
                </div>
                <p><strong>åˆå¹¶ç—‡æ•°é‡ï¼š</strong>${checkedCount}é¡¹</p>
                <p><strong>é¢„åè¯„ä¼°ï¼š</strong>${nrm}</p>
                <p><strong>ç§»æ¤å»ºè®®ï¼š</strong>${scoreValue.value === '5plus' ? 'ç§»æ¤é£é™©é«˜ï¼Œéœ€ä»”ç»†è¯„ä¼°' : 'ç§»æ¤é£é™©å¯æ¥å—ï¼Œå¯è€ƒè™‘æ ‡å‡†ç§»æ¤æ–¹æ¡ˆ'}</p>
            `;

            resultSection.classList.add('show');
        }

        // NRS2002è®¡ç®—
        function calculateNRS2002() {
            const nutri = document.querySelector('input[name="nrs2002_nutri"]:checked');
            const disease = document.querySelector('input[name="nrs2002_disease"]:checked');
            const age = document.querySelector('input[name="nrs2002_age"]:checked');

            if (!nutri || !disease || !age) {
                alert('è¯·å®Œæˆæ‰€æœ‰é€‰é¡¹ï¼');
                return;
            }

            let score = parseInt(nutri.value) + parseInt(disease.value) + parseInt(age.value);

            const resultSection = document.getElementById('nrs2002-result');
            const resultContent = document.getElementById('nrs2002-content');

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>NRS2002è¯„åˆ†ï¼š</strong><span class="${score >= 3 ? 'risk-group risk-high' : 'risk-group risk-low'}">${score}åˆ†</span>
                </div>
                <p><strong>ç»“æœåˆ¤è¯»ï¼š</strong></p>
                <ul>
                    <li>NRS < 3åˆ†ï¼šæ¯å‘¨å¤æŸ¥è¥å…»çŠ¶æ€</li>
                    <li>NRS â‰¥ 3åˆ†ï¼šå­˜åœ¨è¥å…»é£é™©ï¼Œéœ€è¦è¥å…»æ”¯æŒæ²»ç–—</li>
                </ul>
                <p><strong>ä¸´åºŠæ„ä¹‰ï¼š</strong>${score >= 3 ? 'âš ï¸ å­˜åœ¨è¥å…»é£é™©ï¼Œå»ºè®®è¥å…»ç§‘ä¼šè¯Šï¼Œåˆ¶å®šè¥å…»æ”¯æŒè®¡åˆ’' : 'âœ“ æš‚æ— è¥å…»é£é™©'}</p>
            `;

            resultSection.classList.add('show');
        }

        // ç–¼ç—›NRSè®¡ç®—
        function calculateNRS_Pain() {
            const nrsValue = document.querySelector('input[name="nrs_pain"]:checked');

            if (!nrsValue) {
                alert('è¯·å…ˆé€‰æ‹©ç–¼ç—›ç¨‹åº¦ï¼');
                return;
            }

            const score = parseInt(nrsValue.value);
            let severity = '';
            let severityClass = '';
            let intervention = '';

            if (score === 0) {
                severity = 'æ— ç—›';
                severityClass = 'risk-low';
                intervention = 'ç»§ç»­è§‚å¯Ÿï¼Œæ— éœ€æ­¢ç—›æ²»ç–—';
            } else if (score <= 3) {
                severity = 'è½»åº¦ç–¼ç—›';
                severityClass = 'risk-low';
                intervention = 'å¯è€ƒè™‘éç”¾ä½“æŠ—ç‚è¯æˆ–å¼±é˜¿ç‰‡ç±»è¯ç‰©';
            } else if (score <= 6) {
                severity = 'ä¸­åº¦ç–¼ç—›';
                severityClass = 'risk-intermediate';
                intervention = 'å»ºè®®ä½¿ç”¨é˜¿ç‰‡ç±»è¯ç‰©é•‡ç—›';
            } else {
                severity = 'é‡åº¦ç–¼ç—›';
                severityClass = 'risk-high';
                intervention = 'éœ€è¦å¼ºé˜¿ç‰‡ç±»è¯ç‰©ï¼Œå¯èƒ½éœ€è¦å¤šæ¨¡å¼é•‡ç—›';
            }

            const resultSection = document.getElementById('nrs-result');
            const resultContent = document.getElementById('nrs-content');

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>NRSè¯„åˆ†ï¼š</strong><span class="${severityClass}">${severity}</span>
                </div>
                <p><strong>å¹²é¢„å»ºè®®ï¼š</strong>${intervention}</p>
            `;

            resultSection.classList.add('show');
        }

        // HADSç®€åŒ–ç‰ˆè®¡ç®—
        function calculateHADS_Simple() {
            const anxiety = document.querySelector('input[name="hads_anxiety"]:checked');
            const depression = document.querySelector('input[name="hads_depression"]:checked');

            if (!anxiety || !depression) {
                alert('è¯·å®Œæˆæ‰€æœ‰é€‰é¡¹ï¼');
                return;
            }

            const resultSection = document.getElementById('hads-result');
            const resultContent = document.getElementById('hads-content');

            let anxietyLevel = '';
            let anxietyClass = '';
            let depressionLevel = '';
            let depressionClass = '';

            switch(anxiety.value) {
                case '0':
                    anxietyLevel = 'æ­£å¸¸ï¼ˆ0-7åˆ†ï¼‰';
                    anxietyClass = 'risk-low';
                    break;
                case '1':
                    anxietyLevel = 'è½»åº¦ç„¦è™‘ï¼ˆ8-10åˆ†ï¼‰';
                    anxietyClass = 'risk-low';
                    break;
                case '2':
                    anxietyLevel = 'ä¸­åº¦ç„¦è™‘ï¼ˆ11-14åˆ†ï¼‰';
                    anxietyClass = 'risk-intermediate';
                    break;
                case '3':
                    anxietyLevel = 'é‡åº¦ç„¦è™‘ï¼ˆ15-21åˆ†ï¼‰';
                    anxietyClass = 'risk-high';
                    break;
            }

            switch(depression.value) {
                case '0':
                    depressionLevel = 'æ­£å¸¸ï¼ˆ0-7åˆ†ï¼‰';
                    depressionClass = 'risk-low';
                    break;
                case '1':
                    depressionLevel = 'è½»åº¦æŠ‘éƒï¼ˆ8-10åˆ†ï¼‰';
                    depressionClass = 'risk-low';
                    break;
                case '2':
                    depressionLevel = 'ä¸­åº¦æŠ‘éƒï¼ˆ11-14åˆ†ï¼‰';
                    depressionClass = 'risk-intermediate';
                    break;
                case '3':
                    depressionLevel = 'é‡åº¦æŠ‘éƒï¼ˆ15-21åˆ†ï¼‰';
                    depressionClass = 'risk-high';
                    break;
            }

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>ç„¦è™‘è¯„åˆ†ï¼š</strong><span class="${anxietyClass}">${anxietyLevel}</span>
                </div>
                <div class="result-highlight">
                    <strong>æŠ‘éƒè¯„åˆ†ï¼š</strong><span class="${depressionClass}">${depressionLevel}</span>
                </div>
                <p><strong>å»ºè®®ï¼š</strong>${parseInt(anxiety.value) >= 2 || parseInt(depression.value) >= 2 ? 'å»ºè®®å¿ƒç†ç§‘/ç²¾ç¥ç§‘ä¼šè¯Š' : 'å®šæœŸéšè®¿è¯„ä¼°å¿ƒç†çŠ¶æ€'}</p>
            `;

            resultSection.classList.add('show');
        }

        // Binetåˆ†æœŸè®¡ç®—
        function calculateBinet() {
            const hb = document.querySelector('input[name="binet_hb"]:checked');
            const plt = document.querySelector('input[name="binet_plt"]:checked');
            const nodes = document.querySelector('input[name="binet_nodes"]:checked');

            if (!hb || !plt || !nodes) {
                alert('è¯·å®Œæˆæ‰€æœ‰é€‰é¡¹ï¼');
                return;
            }

            let stage = '';
            let stageClass = '';
            let survival = '';

            if (hb.value === 'normal' && plt.value === 'normal' && nodes.value === '0-2') {
                stage = 'AæœŸ';
                stageClass = 'risk-low';
                survival = 'ä¸­ä½ç”Ÿå­˜ > 10å¹´';
            } else if ((hb.value === 'normal' && plt.value === 'normal') ||
                       (hb.value === 'normal' && nodes.value === '0-2') ||
                       (plt.value === 'normal' && nodes.value === '0-2')) {
                stage = 'BæœŸ';
                stageClass = 'risk-intermediate';
                survival = 'ä¸­ä½ç”Ÿå­˜ 5-7å¹´';
            } else {
                stage = 'CæœŸ';
                stageClass = 'risk-high';
                survival = 'ä¸­ä½ç”Ÿå­˜ 2-3å¹´';
            }

            const resultSection = document.getElementById('binet-result');
            const resultContent = document.getElementById('binet-content');

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>Binetåˆ†æœŸï¼š</strong><span class="${stageClass}">${stage}</span>
                </div>
                <p><strong>é¢„åè¯„ä¼°ï¼š</strong>${survival}</p>
            `;

            resultSection.classList.add('show');
        }

        // CLL-IPIè®¡ç®—
        function calculateCLLIPI() {
            const checkboxes = ['cllipi_tp53', 'cllipi_ighv', 'cllipi_beta2', 'cllipi_stage', 'cllipi_age'];
            let score = 0;

            checkboxes.forEach(id => {
                const checkbox = document.getElementById(id);
                if (checkbox && checkbox.checked) {
                    score++;
                }
            });

            let riskGroup = '';
            let riskClass = '';
            let medianOS = '';
            let recommendation = '';

            if (score === 0) {
                riskGroup = 'ä½å±ç»„ (0åˆ†)';
                riskClass = 'risk-low';
                medianOS = 'ä¸­ä½ç”Ÿå­˜æœŸæœªè¾¾åˆ°';
                recommendation = 'å»ºè®®è§‚å¯Ÿç­‰å¾…ï¼Œæ— éœ€ç«‹å³æ²»ç–—ã€‚';
            } else if (score === 1) {
                riskGroup = 'ä½å±ç»„ (1åˆ†)';
                riskClass = 'risk-low';
                medianOS = 'ä¸­ä½ç”Ÿå­˜æœŸæœªè¾¾åˆ°';
                recommendation = 'å»ºè®®è§‚å¯Ÿç­‰å¾…ï¼Œå®šæœŸéšè®¿ã€‚';
            } else if (score === 2) {
                riskGroup = 'ä¸­å±ç»„ (2åˆ†)';
                riskClass = 'risk-intermediate';
                medianOS = 'ä¸­ä½ç”Ÿå­˜æœŸçº¦ 12å¹´';
                recommendation = 'æ ¹æ®ä¸´åºŠç—‡çŠ¶å’Œç–¾ç—…æ´»åŠ¨åº¦å†³å®šæ²»ç–—æ—¶æœºã€‚';
            } else if (score === 3) {
                riskGroup = 'é«˜å±ç»„ (3åˆ†)';
                riskClass = 'risk-high';
                medianOS = 'ä¸­ä½ç”Ÿå­˜æœŸçº¦ 8å¹´';
                recommendation = 'è€ƒè™‘æ›´ç§¯æçš„æ²»ç–—ç­–ç•¥ï¼Œå¦‚æ–°å‹é¶å‘è¯ç‰©(BTKæŠ‘åˆ¶å‰‚ã€BCL2æŠ‘åˆ¶å‰‚)æˆ–ä¸´åºŠè¯•éªŒã€‚';
            } else if (score >= 4) {
                riskGroup = 'æé«˜å±ç»„ (4-5åˆ†)';
                riskClass = 'risk-high';
                medianOS = 'ä¸­ä½ç”Ÿå­˜æœŸçº¦ 3-5å¹´';
                recommendation = 'å»ºè®®å°½æ—©å¯åŠ¨æ²»ç–—ï¼Œä¼˜é€‰é¶å‘è¯ç‰©è”åˆæ–¹æ¡ˆæˆ–å‚åŠ ä¸´åºŠè¯•éªŒã€‚';
            }

            const resultSection = document.getElementById('cllipi-result');
            const resultContent = document.getElementById('cllipi-content');

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>CLL-IPIè¯„åˆ†ï¼š</strong><span class="risk-group ${riskClass}">${score}åˆ† - ${riskGroup}</span>
                </div>
                <div class="clinical-implication">
                    <strong>é¢„åè¯„ä¼°ï¼š</strong>${medianOS}
                    <br><br>
                    <strong>æ²»ç–—å»ºè®®ï¼š</strong>${recommendation}
                </div>
                <div class="prognosis-chart">
                    <strong>å±é™©åº¦åˆ†å±‚è¯´æ˜ï¼š</strong>
                    <ul style="margin-top: 10px; padding-left: 20px;">
                        <li>ä½å±(0-1åˆ†)ï¼šé¢„åè‰¯å¥½ï¼Œå¯è§‚å¯Ÿç­‰å¾…</li>
                        <li>ä¸­å±(2åˆ†)ï¼šé¢„åä¸­ç­‰ï¼Œæ ¹æ®ä¸´åºŠæƒ…å†µå†³å®šæ²»ç–—æ—¶æœº</li>
                        <li>é«˜å±(3åˆ†)ï¼šé¢„åè¾ƒå·®ï¼Œå»ºè®®ç§¯ææ²»ç–—</li>
                        <li>æé«˜å±(4-5åˆ†)ï¼šé¢„åå¾ˆå·®ï¼Œéœ€è¦ç«‹å³æ²»ç–—å¹¶è€ƒè™‘ä¸´åºŠè¯•éªŒ</li>
                    </ul>
                </div>
            `;

            resultSection.classList.add('show');
        }

        // CAR-T CRSåˆ†çº§è®¡ç®—
        function calculateCARSCRS() {
            const fever = document.querySelector('input[name="crs_fever"]:checked');
            const bp = document.querySelector('input[name="crs_bp"]:checked');
            const oxygen = document.querySelector('input[name="crs_oxygen"]:checked');

            const resultSection = document.getElementById('carstcrs-result');
            const resultContent = document.getElementById('carstcrs-content');

            if (!fever || !bp || !oxygen) {
                alert('è¯·å®Œæˆæ‰€æœ‰é€‰é¡¹ï¼');
                return;
            }

            let grade = 0;
            let gradeClass = 'risk-low';
            let management = '';

            // CRSåˆ†çº§é€»è¾‘
            const bpValue = parseInt(bp.value);
            const hasFever = fever.value === 'yes';
            const needsOxygen = oxygen.value === 'yes';

            if (!hasFever) {
                grade = 0;
                gradeClass = 'risk-low';
                management = 'æ— éœ€ç‰¹æ®Šå¤„ç†ï¼Œç»§ç»­è§‚å¯Ÿã€‚';
            } else if (hasFever && bpValue === 0) {
                grade = 1;
                gradeClass = 'risk-intermediate';
                management = 'å¯¹ç—‡å¤„ç†ï¼šé€€çƒ­è¯ã€è¡¥æ¶²ã€‚å¯†åˆ‡è§‚å¯Ÿã€‚';
            } else if (hasFever && bpValue === 1 && !needsOxygen) {
                grade = 2;
                gradeClass = 'risk-intermediate';
                management = 'éœ€è¦è¡¥æ¶²ã€ä½å‰‚é‡å‡å‹è¯ã€‚å¯†åˆ‡ç›‘æµ‹ã€‚';
            } else if (hasFever && (bpValue === 2 || needsOxygen)) {
                grade = 3;
                gradeClass = 'risk-high';
                management = 'éœ€è¦ä½é™¢æ²»ç–—ï¼Œå‡å‹è¯ã€å¸æ°§ã€è€ƒè™‘æ‰˜ç å•æŠ—(tocilizumab)æ²»ç–—ã€‚';
            } else if (hasFever && bpValue === 3) {
                grade = 4;
                gradeClass = 'risk-high';
                management = 'å±åŠç”Ÿå‘½ï¼éœ€è¦ICUï¼Œå¤šç§å‡å‹è¯ï¼Œæ‰˜ç å•æŠ—+æ¿€ç´ ï¼Œå¿…è¦æ—¶å‘¼å¸æ”¯æŒã€‚';
            } else if (hasFever && bpValue === 4) {
                grade = 4;
                gradeClass = 'risk-high';
                management = 'å±åŠç”Ÿå‘½ï¼éœ€è¦ç«‹å³æŠ¢æ•‘ï¼ŒICUæ²»ç–—ï¼Œå¤šå™¨å®˜æ”¯æŒã€‚';
            }

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>CRSåˆ†çº§ï¼š</strong><span class="risk-group ${gradeClass}">${grade}çº§</span>
                </div>
                <div class="clinical-implication">
                    <strong>å¤„ç†å»ºè®®ï¼š</strong>${management}
                </div>
                <div class="prognosis-chart">
                    <strong>CRSåˆ†çº§è¯´æ˜ï¼š</strong>
                    <ul style="margin-top: 10px; padding-left: 20px;">
                        <li>1çº§ï¼šå‘çƒ­ï¼Œæ— éœ€ä½è¡€å‹æ²»ç–—</li>
                        <li>2çº§ï¼šå‘çƒ­+ä½è¡€å‹ï¼ˆæ— éœ€å‡å‹è¯æˆ–ä»…éœ€ä¸€ç§ï¼‰</li>
                        <li>3çº§ï¼šå‘çƒ­+ä½è¡€å‹ï¼ˆéœ€å¤šç§å‡å‹è¯ï¼‰æˆ–éœ€å¸æ°§</li>
                        <li>4çº§ï¼šå±åŠç”Ÿå‘½çš„ä½è¡€å‹/ç¼ºæ°§</li>
                    </ul>
                </div>
            `;

            resultSection.classList.add('show');
        }

        // ICANSåˆ†çº§è®¡ç®—
        function calculateICANS() {
            const resultSection = document.getElementById('carsticans-result');
            const resultContent = document.getElementById('carsticans-content');

            // è®¡ç®—ICEè¯„åˆ†
            let iceScore = 0;

            // å®šå‘åŠ› (0-4åˆ†)
            if (document.getElementById('ice_year').checked) iceScore++;
            if (document.getElementById('ice_month').checked) iceScore++;
            if (document.getElementById('ice_day').checked) iceScore++;
            if (document.getElementById('ice_city').checked) iceScore++;
            if (document.getElementById('ice_hospital').checked) iceScore++;
            if (iceScore > 4) iceScore = 4; // å®šå‘åŠ›æœ€å¤š4åˆ†

            // å‘½åèƒ½åŠ› (0-3åˆ†)
            const naming = document.getElementById('ice_naming').value;
            if (naming) iceScore += parseInt(naming);

            // éµä»æŒ‡ä»¤ (0-1åˆ†)
            if (document.getElementById('ice_commands').checked) iceScore++;

            // ä¹¦å†™èƒ½åŠ› (0-1åˆ†)
            const writing = document.querySelector('input[name="ice_writing"]:checked');
            if (writing && writing.value === '1') iceScore++;

            // æ³¨æ„åŠ› (0-1åˆ†)
            const attention = document.querySelector('input[name="ice_attention"]:checked');
            if (attention && attention.value === '1') iceScore++;

            // æ„è¯†æ°´å¹³
            const loc = document.querySelector('input[name="icans_loc"]:checked');
            const motor = document.querySelector('input[name="icans_motor"]:checked');

            if (!loc || !motor) {
                alert('è¯·å®Œæˆæ‰€æœ‰é€‰é¡¹ï¼');
                return;
            }

            const locValue = parseInt(loc.value);
            const motorValue = parseInt(motor.value);

            // ICANSåˆ†çº§è®¡ç®—
            let grade = 0;
            let gradeClass = 'risk-low';
            let management = '';

            // ICEè¯„åˆ†è½¬æ¢ä¸ºåˆ†å€¼ï¼ˆ10-æ­£å¸¸ï¼Œ0-æœ€å·®ï¼‰
            const iceImpairment = 10 - iceScore;

            if (iceImpairment === 0 && locValue === 0 && motorValue === 0) {
                grade = 0;
                gradeClass = 'risk-low';
                management = 'æ— ç¥ç»æ¯’æ€§ï¼Œç»§ç»­è§‚å¯Ÿã€‚';
            } else if ((iceImpairment >= 1 && iceImpairment <= 2) && locValue === 0 && motorValue === 0) {
                grade = 1;
                gradeClass = 'risk-low';
                management = 'è½»åº¦ç¥ç»æ¯’æ€§ï¼Œå¯¹ç—‡å¤„ç†ï¼Œå¯†åˆ‡è§‚å¯Ÿã€‚';
            } else if ((iceImpairment >= 3 && iceImpairment <= 6) && locValue === 0 && motorValue === 0) {
                grade = 2;
                gradeClass = 'risk-intermediate';
                management = 'ä¸­åº¦ç¥ç»æ¯’æ€§ï¼Œè€ƒè™‘æ¿€ç´ æ²»ç–—ï¼Œç¥ç»ç§‘ä¼šè¯Šã€‚';
            } else if (iceImpairment >= 7 || locValue === 1 || motorValue === 1) {
                grade = 3;
                gradeClass = 'risk-high';
                management = 'ä¸¥é‡ç¥ç»æ¯’æ€§ï¼Œéœ€è¦ä½é™¢ï¼Œæ¿€ç´ æ²»ç–—ï¼Œç¥ç»ç§‘ç´§æ€¥ä¼šè¯Šã€‚';
            } else if (locValue >= 2 || motorValue >= 2) {
                grade = 4;
                gradeClass = 'risk-high';
                management = 'å±åŠç”Ÿå‘½ï¼éœ€è¦ICUï¼Œå¼ºåŒ–æ¿€ç´ æ²»ç–—ï¼Œå¿…è¦æ—¶ä½¿ç”¨å…¶ä»–å…ç–«æŠ‘åˆ¶å‰‚ã€‚';
            }

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>ICANSåˆ†çº§ï¼š</strong><span class="risk-group ${gradeClass}">${grade}çº§</span>
                    <br>
                    <strong>ICEè¯„åˆ†ï¼š</strong>${iceScore}/10åˆ†
                </div>
                <div class="clinical-implication">
                    <strong>å¤„ç†å»ºè®®ï¼š</strong>${management}
                </div>
                <div class="prognosis-chart">
                    <strong>ICANSåˆ†çº§è¯´æ˜ï¼š</strong>
                    <ul style="margin-top: 10px; padding-left: 20px;">
                        <li>1çº§ï¼šICEè¯„åˆ†8-9åˆ†ï¼Œæ„è¯†ã€è¿åŠ¨æ­£å¸¸</li>
                        <li>2çº§ï¼šICEè¯„åˆ†4-7åˆ†ï¼Œæˆ–æ„è¯†/è¿åŠ¨è½»åº¦å¼‚å¸¸</li>
                        <li>3çº§ï¼šICEè¯„åˆ†0-3åˆ†ï¼Œæˆ–æ„è¯†/è¿åŠ¨æ˜æ˜¾å¼‚å¸¸</li>
                        <li>4çº§ï¼šæ˜è¿·ã€ä¸¥é‡è¿åŠ¨éšœç¢æˆ–æ— ååº”</li>
                    </ul>
                </div>
            `;

            resultSection.classList.add('show');
        }

        // AML ELN 2022é¢„ååˆ†å±‚è®¡ç®—
        function calculateAMLELN2022() {
            const favorable = [
                'aml_favor1', 'aml_favor2', 'aml_favor3', 'aml_favor4', 'aml_favor5'
            ];
            const adverse = [
                'aml_adverse1', 'aml_adverse2', 'aml_adverse3', 'aml_adverse4',
                'aml_adverse5', 'aml_adverse6', 'aml_adverse7', 'aml_adverse8',
                'aml_adverse9', 'aml_adverse10', 'aml_adverse11', 'aml_adverse12'
            ];

            let hasFavorable = false;
            let hasAdverse = false;

            favorable.forEach(id => {
                if (document.getElementById(id) && document.getElementById(id).checked) {
                    hasFavorable = true;
                }
            });

            adverse.forEach(id => {
                if (document.getElementById(id) && document.getElementById(id).checked) {
                    hasAdverse = true;
                }
            });

            const resultSection = document.getElementById('amleln2022-result');
            const resultContent = document.getElementById('amleln2022-content');

            if (!hasFavorable && !hasAdverse) {
                alert('è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªç»†èƒé—ä¼ å­¦æˆ–åˆ†å­å­¦å¼‚å¸¸ï¼');
                return;
            }

            let riskGroup = '';
            let riskClass = '';
            let recommendation = '';
            let transplant = '';

            if (hasAdverse) {
                riskGroup = 'é¢„åä¸è‰¯ç»„';
                riskClass = 'risk-high';
                recommendation = 'å»ºè®®å¼ºåŒ–åŒ–ç–—æˆ–é¶å‘æ²»ç–—åï¼Œå°½æ—©è¿›è¡Œå¼‚åŸºå› é€ è¡€å¹²ç»†èƒç§»æ¤è¯„ä¼°ã€‚';
                transplant = 'å¼ºçƒˆå»ºè®®allo-HSCTï¼ˆæœ‰åˆé€‚ä¾›è€…ï¼‰';
            } else if (hasFavorable) {
                riskGroup = 'é¢„åè‰¯å¥½ç»„';
                riskClass = 'risk-low';
                recommendation = 'æ ‡å‡†è¯±å¯¼åŒ–ç–—ï¼Œæ— éœ€å¸¸è§„allo-HSCTä½œä¸ºä¸€çº¿å·©å›ºæ²»ç–—ã€‚';
                transplant = 'ä»…åœ¨å¤å‘æ—¶è€ƒè™‘allo-HSCT';
            } else {
                riskGroup = 'ä¸­ç­‰é¢„åç»„';
                riskClass = 'risk-intermediate';
                recommendation = 'æ ‡å‡†è¯±å¯¼åŒ–ç–—åæ ¹æ®MRDçŠ¶æ€å†³å®šåç»­æ²»ç–—ã€‚';
                transplant = 'æ ¹æ®MRDã€åˆå¹¶ç—‡ã€ä¾›è€…æƒ…å†µç»¼åˆè€ƒè™‘';
            }

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>ELN 2022å±é™©åº¦åˆ†å±‚ï¼š</strong><span class="risk-group ${riskClass}">${riskGroup}</span>
                </div>
                <div class="clinical-implication">
                    <strong>æ²»ç–—å»ºè®®ï¼š</strong>${recommendation}
                    <br><br>
                    <strong>ç§»æ¤å»ºè®®ï¼š</strong>${transplant}
                </div>
                <div class="prognosis-chart">
                    <strong>é¢„åè¯´æ˜ï¼š</strong>
                    <ul style="margin-top: 10px; padding-left: 20px;">
                        <li>é¢„åè‰¯å¥½ï¼š5å¹´ç”Ÿå­˜ç‡ >60%</li>
                        <li>ä¸­ç­‰é¢„åï¼š5å¹´ç”Ÿå­˜ç‡ 30-50%</li>
                        <li>é¢„åä¸è‰¯ï¼š5å¹´ç”Ÿå­˜ç‡ <20%</li>
                    </ul>
                </div>
            `;

            resultSection.classList.add('show');
        }

        // IPSS-Måˆ†å­è¯„åˆ†è®¡ç®—ï¼ˆç®€åŒ–ç‰ˆï¼‰
        function calculateIPSSM() {
            const resultSection = document.getElementById('ipssm-result');
            const resultContent = document.getElementById('ipssm-content');

            resultContent.innerHTML = `
                <div class="result-highlight">
                    <strong>æç¤ºï¼š</strong><span class="risk-group risk-intermediate">IPSS-Mè¯„åˆ†ç³»ç»Ÿè¾ƒä¸ºå¤æ‚ï¼Œéœ€è¦ç»“åˆIPSS-Rçš„ä¸´åºŠç—…ç†å­¦å‚æ•°å’Œåˆ†å­æ ‡å¿—ç‰©è¿›è¡Œè®¡ç®—ã€‚</span>
                </div>
                <div class="clinical-implication">
                    <strong>è¯´æ˜ï¼š</strong>
                    IPSS-Mè¯„åˆ†éœ€è¦ä»¥ä¸‹ä¿¡æ¯ï¼š
                    <ul style="margin-top: 10px; padding-left: 20px;">
                        <li>ç»†èƒé—ä¼ å­¦åˆ†çº§ï¼ˆæŒ‰IPSS-Ræ ‡å‡†ï¼‰</li>
                        <li>éª¨é«“åŸå§‹ç»†èƒç™¾åˆ†æ¯”</li>
                        <li>è¡€çº¢è›‹ç™½æ°´å¹³</li>
                        <li>è¡€å°æ¿è®¡æ•°</li>
                        <li>ä¸­æ€§ç²’ç»†èƒç»å¯¹å€¼</li>
                        <li>åˆ†å­æ ‡å¿—ç‰©ï¼ˆTP53, SF3B1, ASXL1, DNMT3A, U2AF1, RUNX1ï¼‰</li>
                    </ul>
                    <br>
                    <strong>å»ºè®®ï¼š</strong>è¯·ä½¿ç”¨ä¸“ä¸šè½¯ä»¶æˆ–åœ¨çº¿è®¡ç®—å™¨è¿›è¡Œç²¾ç¡®è¯„ä¼°ã€‚
                </div>
            `;

            resultSection.classList.add('show');
        }
    </script>
    </div>
</body>
</html>
